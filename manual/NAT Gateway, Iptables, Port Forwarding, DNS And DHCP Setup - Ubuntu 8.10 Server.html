<!DOCTYPE html>
<html id="XenForo" dir="LTR" class="Public LoggedOut Sidebar Responsive hasJs NoTouch HasDragDrop" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- base href="https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" -->
<script async="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/cbgapi.loaded_2"></script><script async="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/cbgapi.loaded_1"></script><script async="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/cbgapi.loaded_0"></script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/analytics.js" async=""></script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/recaptcha__en.js" async="" type="text/javascript"></script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/osd.js"></script><script>
			var _b = document.getElementsByTagName('base')[0], _bH = "https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server";
			if (_b && _b.href != _bH) _b.href = _bH;
		</script>
<title>NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server</title>
<meta name="keywords" content="dns,ubuntu,bind">
<meta name="description" content="NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server
So you are too poor to afford another expensive router and want to do... ">
<meta name="og:title" content="NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server">
<meta name="og:description" content="NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server
So you are too poor to afford another expensive router and want to do... ">
<meta name="og:site_name" content="Howtoforge">
<meta name="og:type" content="article">
<meta property="og:image" content="https://www.howtoforge.com/images/teaser/ubuntu.gif">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="howtoforgecom">
<meta name="twitter:creator" content="howtoforgecom">
<meta name="twitter:title" content="NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server">
<meta name="twitter:description" content="NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server
So you are too poor to afford another expensive router and want to do... ">
<link rel="alternate" href="https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" hreflang="en">
<link rel="canonical" href="https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server">

<link rel="stylesheet" href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/font-awesome_002.css">
<link href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/css.css" rel="stylesheet" type="text/css">
 
<link rel="stylesheet" href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/css_002.css">
<link rel="stylesheet" href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/css_003.css">
<script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/jquery_002.js"></script>
<script>if (!window.jQuery) { document.write('<scr'+'ipt type="text/javascript" src="/js/jquery/jquery-1.11.3.min.js"><\/scr'+'ipt>'); }</script>
<script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/xenforo.js"></script>
<script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/zloader.js"></script>
<link href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/font-awesome.css" rel="stylesheet">
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/jquery.js"></script>
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/jquery_003.js"></script>
<link rel="stylesheet" type="text/css" href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/jquery.css" media="screen">
<link href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/style.css" rel="stylesheet">
<link rel="alternate" type="application/rss+xml" title="RSS-Feed fÃ¼r Howtoforge" href="https://www.howtoforge.com/feed.rss">
<script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/tinymce.js"></script>
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/google_service.js">
</script>
<script type="text/javascript">
GS_googleAddAdSenseService("ca-pub-3043223216276099");
GS_googleEnableAllServices();
</script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/google_ads.js"></script>
<script language="JavaScript">
GA_googleAddAttr("Category", "Dns");
GA_googleAddAttr("Category", "Ubuntu");
GA_googleAddAttr("Category", "Bind");
</script>
<script type="text/javascript">
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_article_leaderboard_a_728x90");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_article_rectangle_a_300x250");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_article_rectangle_b_300x250");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_article_halfpage_a_300x600");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_article_leaderboard_b_728x90");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_article_halfpage_b_300x600");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_textlink_a_600x50");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_textlink_b_600x50");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_textlink_c_600x50");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_textlink_d_600x50");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_list_sidebar_top");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_list_content_middle");
GA_googleAddSlot("ca-pub-3043223216276099", "howtoforge_com_list_bottom");
</script>
<script type="text/javascript">
GA_googleFetchAds();
</script>
 
<script type="text/javascript">
    window.cookieconsent_options = {"message":"This website uses cookies to ensure you get the best experience on our website","dismiss":"Got it!","learnMore":"More info","link":"https://www.howtoforge.com/community/help/cookies","theme":"dark-bottom"};
</script>
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/cookieconsent.js"></script>
 
<link href="https://tpc.googlesyndication.com/safeframe/1-0-5/html/container.html" rel="prefetch"><script async="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/sdk.js"></script><script gapi_processed="true" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/clientplusone.js" async=""></script><script async="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/sdk.js"></script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/widgets.js" async=""></script><link href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/skin.css" rel="stylesheet"><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/C6ADVKE.js" type="text/javascript" id="_fbn_projs"></script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/button.js" async="" charset="utf-8" type="text/javascript"></script><link href="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/dark-bottom.css" type="text/css" rel="stylesheet"><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style><script async="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/sdk.js"></script></head>
<body><div class="cc_banner-wrapper "><div class="cc_banner cc_container cc_container--open"><a href="#null" data-cc-event="click:dismiss" class="cc_btn cc_btn_accept_all">Got it!</a><p class="cc_message">This website uses cookies to ensure you get the best experience on our website <a data-cc-if="options.link" class="cc_more_info" href="https://www.howtoforge.com/community/help/cookies">More info</a></p><a class="cc_logo" target="_blank" href="http://silktide.com/cookieconsent">Cookie Consent plugin for the EU cookie law</a></div></div>
<div id="loginBar">
<div class="pageWidth">
<div class="pageContent">
<h3 id="loginBarHandle">
<label for="LoginControl"><a href="https://www.howtoforge.com/community/login/" class="concealed noOutline">Log in or Sign up</a></label>
</h3>
<span class="helper"></span>
<form action="/community/login/login?redirect=/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" method="post" class="xenForm eAuth" id="login" style="display:none">
<ul id="eAuthUnit">
<li><a href="https://www.howtoforge.com/community/register/facebook?reg=1" class="fbLogin" tabindex="110"><span>Log in with Facebook</span></a></li>
<li><a href="https://www.howtoforge.com/community/register/twitter?reg=1" class="twitterLogin" tabindex="110"><span>Log in with Twitter</span></a></li>
<li><span data-gapiattached="true" class="googleLogin GoogleLogin JsOnly" tabindex="110" data-client-id="198773272284-b6tfk0c28bje81p774prrcrkq9jb3o44.apps.googleusercontent.com" data-redirect-url="/community/register/google?code=__CODE__&amp;csrf=hVMXbW_3rnrmq4Em"><span>Log in with Google</span></span></li>
</ul>
<div class="ctrlWrapper">
<dl class="ctrlUnit">
<dt><label for="LoginControl">Your name or email address:</label></dt>
<dd><input name="login" id="LoginControl" class="textCtrl" tabindex="101" type="text"></dd>
</dl>
<dl class="ctrlUnit">
<dt>
<label for="ctrl_password">Do you already have an account?</label>
</dt>
<dd>
<ul>
<li><label for="ctrl_not_registered"><input name="register" value="1" id="ctrl_not_registered" tabindex="105" type="radio">
No, create an account now.</label></li>
<li><label for="ctrl_registered"><input name="register" value="0" id="ctrl_registered" tabindex="105" checked="checked" class="Disabler" type="radio">
Yes, my password is:</label></li>
<li id="ctrl_registered_Disabler">
<input name="password" class="textCtrl" id="ctrl_password" tabindex="102" type="password">
<div class="lostPassword"><a href="https://www.howtoforge.com/community/lost-password/" tabindex="106">Forgot your password?</a></div>
</li>
</ul>
</dd>
</dl>
<dl class="ctrlUnit submitUnit">
<dt></dt>
<dd>
<input class="button primary" value="Log in" tabindex="104" data-loginphrase="Log in" data-signupphrase="Sign up" type="submit">
<label for="ctrl_remember" class="rememberPassword"><input name="remember" value="1" id="ctrl_remember" tabindex="103" type="checkbox"> Stay logged in</label>
</dd>
</dl>
</div>
<input name="cookie_check" value="1" type="hidden">
<input name="redirect" value="/community/" type="hidden">
<input name="_xfToken" value="" type="hidden">
</form></div>
</div>
</div>
<header>
<div id="header">
<div id="logoBlock">
<div class="pageWidth">
<div class="pageContent">
<div id="logo"><a href="https://www.howtoforge.com/">
<span></span>
<img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/howtoforge_logo_trans.gif" alt="Howtoforge" style="margin-left:20px;">
</a></div>
<span class="helper"></span>
<div class="langSwitch">
<b><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/gb.png" alt="HowtoForge - Linux Tutorials in English"> English</b> | <a href="https://www.howtoforge.de/" title="HowtoForge.de - Linux Tutorials auf Deutsch"><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/de.png" alt="HowtoForge.de - Linux Tutorials auf Deutsch"> Deutsch</a>
</div>
</div>
</div>
</div>
<div id="navigation" class="pageWidth withSearch">
<div class="pageContent">
<nav>
<div class="navTabs">
<ul class="publicTabs">
 
<li class="navTab forums selected">
<a href="https://www.howtoforge.com/" class="navLink">Tutorials</a>
<div class="tabLinks forumsTabLinks">
<ul class="secondaryContent blockLinksList">
<li><a href="https://www.howtoforge.com/search/">Tutorial search</a></li>
</ul>
</div>
</li>
<li class="navTab forums PopupClosed">
<a href="https://www.howtoforge.com/tutorials/" class="navLink">Tags</a>
</li>
<li class="navTab forums PopupClosed"><a href="https://www.howtoforge.com/community/" class="navLink">Forums</a></li>
<li class="navTab forums PopupClosed"><a href="https://www.howtoforge.com/contribute/" class="navLink">Contribute</a></li>
<li class="navTab forums PopupClosed"><a href="https://www.howtoforge.com/subscription/" class="navLink">Subscribe</a></li>
<li class="navTab forums PopupClosed"><a href="http://www.ispconfig.org/" class="navLink">ISPConfig</a></li>
<li style="display: list-item;" class="navTab forums PopupClosed"><a href="http://www.lxer.com/" class="navLink">News</a></li>
</ul>
</div>
<span class="helper"></span>
</nav>
</div>
</div>
<div id="searchBar" class="pageWidth">
<span id="QuickSearchPlaceholder" title=" Search..."> Search</span>
<fieldset id="QuickSearch">
<form action="/" method="post" class="formPopup">
<div class="primaryControls">
 
<input name="q" class="textCtrl" placeholder="Search..." results="0" title="Enter your search and hit enter..." id="QuickSearchQuery" type="search">
 
</div>
<input name="_xfToken" value="" type="hidden">
</form>
</fieldset>
</div>
</div>
</header>
<div id="content" class="forum_list">
<div class="pageWidth">
<div class="pageContent">
 
<div class="mainContainer">
<div class="mainContent">
 
<div class="breadBoxTop">
<nav>
<fieldset style="" class="breadcrumb">
<span class="crumbs">
<span class="crust homeCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://www.howtoforge.com/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Tutorials</span></a>
<span class="arrow"><span></span></span>
</span>
<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" class="crumb" rel="up" itemprop="url"><span itemprop="title">NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server</span></a>
<span class="arrow"><span>&gt;</span></span>
</span>
</span>
</fieldset>
</nav>
</div>
 
<div id="htfContentPage">
<div class="contributeEdit" style="float:right; width:450px; max-width:100%;">
 
<div id="tocContainer">
<h3>On this page</h3>
<ol class="toc">
<li><a href="#nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-server">NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server</a>
<ol>
<li><a href="#first-things-first">First things first</a></li>
<li><a href="#moving-on-to-dns">Moving on to... DNS</a></li>
<li><a href="#last-but-not-least-iptables">Last but not least, IPTABLES</a>
</li></ol></li>
</ol>
</div>
</div>
<h2 id="nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-server">NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server</h2>
<p>So you are too poor to afford another expensive router and want to do
 things yourself. You have found the right tutorial! This tutorial will 
show you how to set up an Ubuntu 8.10 router with NAT, port fowarding, a
 DNS server and a DHCP server.</p>
<p>
<b>Why Ubuntu you ask?</b>
</p>
<p>
Not only is Ubuntu a great operating system, it's also very flexible and
 powerful enough to allow you&nbsp; to get up and running in no time!
<b>Note:</b> Please restart your computer after every step. This will ensure everything is working correctly.
</p>
<p>
Some of the basic things we are going to need are...
</p>
<p>DHCP -- dhcp3-server<br>
DNS -- bind9<br>
iptables -- included /w ubuntu
</p>
<p>&nbsp;</p>
<h3 id="first-things-first">First things first</h3>
<p>Your going to need 2 network cards. Take your first network card, and
 plug your WAN connection into it. You should know what network card 
this is, eth0 eth1 ect... If you don't know what it is, trial and error 
my friend.</p><div style="width:336px;float:left; margin: 10px 15px 10px 0px;background-color:white;"> 
 
<script type="text/javascript">
GA_googleFillSlot('howtoforge_com_article_rectangle_a_300x250');
</script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/ads_002"></script><div id="google_ads_div_howtoforge_com_article_rectangle_a_300x250_ad_wrapper">
<div id="google_ads_div_howtoforge_com_article_rectangle_a_300x250_ad_container" style="display:inline-block;">
<ins style="width: 300px; height: 250px; display: inline-table; position: relative; border: 0px none;"><ins style="width: 300px; height: 250px; display: block; position: relative; border: 0px none;"><iframe style="border: 0px none; position: absolute; top: 0px; left: 0px;" marginheight="0" marginwidth="0" name="google_ads_iframe_howtoforge_com_article_rectangle_a_300x250" id="google_ads_iframe_howtoforge_com_article_rectangle_a_300x250" frameborder="0" height="250" scrolling="no" width="300"></iframe></ins></ins></div>
</div>
<script>GA_googleCreateDomIframe("google_ads_div_howtoforge_com_article_rectangle_a_300x250_ad_container" ,"howtoforge_com_article_rectangle_a_300x250");</script>
 </div>
<p>Let's just say that your WAN card is going to be eth0 (<i>if it's eth1, just do everything the same but ajust your config accordingly</i>). We want to locate the file <span class="system">/etc/network/interfaces</span>. Do a VI on the file such as</p>
<p class="command">sudo vi /etc/network/interfaces</p>
<p>
You should see in the file (<i>if you have nothing setup yet</i>):</p>
<pre># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).
# The loopback network interface
auto lo
iface lo inet loopback
</pre>
<p>
We are going to add this to the file. <i>As a side note, if you don't know how to use VI use nano or learn VI.</i>
</p>
<pre>auto eth0
iface eth0 inet dhcp
</pre>
<p>
The <span class="system">auto eth0</span> code tells eth0 to start on boot, similar to running </p>
<p class="command">sudo ifconfig eth0 up</p>
<p>The code <span class="system">iface eth0 inet dhcp</span> tells the 
eth0 interface to look for a DHCP server and get its info from there. 
This is important if your hooked up to a cable modem, as you will want 
to get a public IP from your ISP. </p>
<p>The next step to take is to configure your network card eth1. This will be your "LAN" card. </p>
<p>If you remember, our <span class="system">/etc/network/interfaces</span> configuration looked like</p>
<pre># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).
# The loopback network interface
auto lo
iface lo inet loopback
# The primary network interface
auto eth0
iface eth0 inet dhcp</pre>
<p>We are going to VI into the <span class="system">interfaces</span> file again and add a few more lines: </p>
<p class="command">sudo vi /etc/network/interfaces</p>
<p>Add these lines to the bottom of the file.</p>
<pre>auto eth1
iface eth1 inet static
        address         172.17.207.121
        netmask         255.255.255.0
        broadcast       172.17.207.255
        network         172.17.207.0
</pre>
<p>This just gives you a static IP address for your server on your LAN card.</p>
<p>Your file should now look like this.</p>
<pre># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).
# The loopback network interface
auto lo
iface lo inet loopback
# The primary network interface
auto eth0
iface eth0 inet dhcp
auto eth1
iface eth1 inet static
        address         172.17.207.121
        netmask         255.255.255.0
        broadcast       172.17.207.255
        network         172.17.207.0
</pre>
<p>
Now, before we forget, let's edit your <span class="system">/etc/hosts</span> file.</p>
<p class="command">sudo vi /etc/hosts</p>
<p>Make the file look like mine, though if you call your server <span class="system">userve</span> or <span class="system">myserver</span> you can change it.</p>
<p>Also note the <span class="system">asus.local</span> domain name, it's a good idea to use your own such as <span class="system">mydomain.local</span> but you can use what I have for learning purposes.</p>
<p>We use <span class="system">.local</span> because it's easy to remember and it's not public, so we will not interfere with anything.</p>
<pre>127.0.0.1       localhost server.localhost
172.17.207.121  server.asus.local server asus.local</pre>
<p>
Now that we have our interfaces configured, we are going to install and 
set up a dhcp server. To install the dhcp server run the command </p>
<p class="command">sudo apt-get install dhcp3-server</p>
<p>Let's edit the <span class="system">dhcpd.conf</span> file. Start by running the command </p>
<p class="command">sudo vi /etc/dhcp3/dhcpd.conf</p>
<p>Now if there is anything in that file, <b>REMOVE IT</b>.</p>
<p>Copy and paste this into your file, then write and quit.
</p>
<pre>ddns-update-style none;
option domain-name "whatever.local"; //change this to something you want.local such as mydomain.local
option domain-name-servers 172.17.207.121, 24.92.226.41; //you also might want to change that second dns server to your ISP's local DNS server
option routers 172.17.207.121;
default-lease-time 42300;
max-lease-time 84600;
authoritative;
log-facility local7;
subnet 172.17.0.0 netmask 255.255.255.0 {
        range 172.17.207.1 172.17.207.100; //you can expand the range just by changing .100 to .254 or somthing like that
}
</pre>
<p>
Now run the command</p>
<p class="command">sudo /etc/init.d/isc-dhcp-server start</p>
<p>This will start your DHCP server and we can label this part DONE.</p>
<p>&nbsp;</p>
<h3 id="moving-on-to-dns">Moving on to... DNS</h3>
<p>
Bind is the DNS package that we will be using. To install this, we just simply run</p>
<p class="command">sudo apt-get install bind9</p>
<p>This will download and install our bind server.</p>
<p>Start by running the command</p>
<p class="command">vi /etc/bind/named.conf</p>
<p>Then remove everything in the file and look for my comments, usually indicated by <span class="system">//</span>.</p>
<pre>// This is the primary configuration file for the BIND DNS server named.
//
// Please read /usr/share/doc/bind9/README.Debian.gz for information on the
// structure of BIND configuration files in Debian, *BEFORE* you customize
// this configuration file.
//
// If you are just adding zones, please do that in /etc/bind/named.conf.local
include "/etc/bind/named.conf.options";
// prime the server with knowledge of the root servers
zone "." {
        type hint;
        file "/etc/bind/db.root";
};
// be authoritative for the localhost forward and reverse zones, and for
// broadcast zones as per RFC 1912
zone "asus.local" { //change asus.local to whatever you named your domain such as mydomain.local
type master;
file "/etc/bind/zones/asus.local.db"; //this file or foler does not exist so we will need to make it
};
zone "207.17.172.in-addr.arpa" {
type master;
file "/etc/bind/zones/rev.207.17.172.in-addr.arpa";//this file does not exist so we will also need to make it
};
zone "localhost" {
        type master;
        file "/etc/bind/db.local";
};
zone "127.in-addr.arpa" {
        type master;
        file "/etc/bind/db.127";
};
zone "0.in-addr.arpa" {
        type master;
        file "/etc/bind/db.0";
};
zone "255.in-addr.arpa" {
        type master;
        file "/etc/bind/db.255";
};
include "/etc/bind/named.conf.local";
</pre>
<p>Before we can make the two files <span class="system">asus.local.db</span> and <span class="system">rev.207.17.172.in-addr.arpa</span>, we need to edit another file. So</p>
<p class="command">sudo vi /etc/bind/named.conf.options</p>
<p>Remove everything in the file and use this...
</p>
<pre>options {
        directory "/var/cache/bind";
        // If there is a firewall between you and nameservers you want
        // to talk to, you may need to fix the firewall to allow multiple
        // ports to talk.  See http://www.kb.cert.org/vuls/id/800113
        // If your ISP provided one or more IP addresses for stable
        // nameservers, you probably want to use them as forwarders.
        // Uncomment the following block, and insert the addresses replacing
        // the all-0's placeholder.
         forwarders {
          24.92.226.41; //very important, change this to your LOCAL ISP's DNS server(s)
      24.92.224.40;
         };
        auth-nxdomain no;    # conform to RFC1035
        listen-on-v6 { any; };
};
</pre>
<p>
Pay attention to the comments, they tell you to <b>CHANGE</b> our forwarders address(es) to your LOCAL ISP's DNS.</p><div style="width:336px;float:left; margin: 10px 15px 10px 0px;background-color:white;"> 
 
<script type="text/javascript">
GA_googleFillSlot('howtoforge_com_article_rectangle_b_300x250');
</script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/ads_003"></script><div id="google_ads_div_howtoforge_com_article_rectangle_b_300x250_ad_wrapper">
<div id="google_ads_div_howtoforge_com_article_rectangle_b_300x250_ad_container" style="display:inline-block;">
<ins style="width: 336px; height: 250px; display: inline-table; position: relative; border: 0px none;"><ins style="width: 336px; height: 250px; display: block; position: relative; border: 0px none;"><iframe style="border: 0px none; position: absolute; top: 0px; left: 0px;" marginheight="0" marginwidth="0" name="google_ads_iframe_howtoforge_com_article_rectangle_b_300x250" id="google_ads_iframe_howtoforge_com_article_rectangle_b_300x250" frameborder="0" height="250" scrolling="no" width="336"></iframe></ins></ins></div>
</div>
<script>GA_googleCreateDomIframe("google_ads_div_howtoforge_com_article_rectangle_b_300x250_ad_container" ,"howtoforge_com_article_rectangle_b_300x250");</script>
 </div>
<p>
Next, cd over to your bind directory: </p>
<p class="command">cd /etc/bind/<br>
sudo mkdir zones<br>
cd zones<br>
sudo vi asus.local.db</p>
<p>(Or use your domain name such as <span class="system">mydomain.local.db</span>.)</p>
<p>Once you are in the <span class="system">asus.local.db</span> file or <span class="system">mydomain.local.db</span> file (whatever you called it), copy and paste this, make the appropriate changes to your domain name.</p>
<pre>$ORIGIN .
$TTL 4000 ;
asus.local.     IN SOA  server.asus.local. admin.asus.local. (
2007031001      ; serial
28800           ; refresh
3600            ; retry
604800          ; expire
38400           ; min
)
                NS      server.asus.local.
$ORIGIN asus.local.
                IN      A       172.17.207.121
www             IN      A       172.17.207.121 //an example
server          IN      A       172.17.207.121 //an example
macpro          IN      A       172.17.207.4   //an example
</pre>
<p>
If you do an <span class="system">nslookup macpro</span>, you will get <span class="system">172.17.207.4</span> back as an answer, so change the domain names and IP's according to your settings.
</p>
<p>Next, we are going to <span class="system">vi</span> the <span class="system">rev.207.17.172.in-addr.arpa</span> file that does not exist yet. But it will once we save it. So assuming you're still in the zones folder:</p>
<p class="command">vi rev.207.17.172.in-addr.arpa</p>
<p>Copy and paste what I have here, making the appropriate changes.
</p>
<pre>$ORIGIN .
$TTL 28800      ; 8 hours
207.17.172.IN-ADDR.ARPA IN SOA server.asus.local. admin.asus.local. (
                                2008110601 ; serial
                                28800      ; refresh (8 hours)
                                7200       ; retry (2 hours)
                                604800     ; expire (1 week)
                                86400      ; minimum (1 day)
                                )
                        NS      server.asus.local.
$ORIGIN 207.17.172.IN-ADDR.ARPA.
4                     PTR    macpro.asus.local.
</pre>
<p>So now if you did a reverse lookup on <span class="system">172.17.207.4</span>, you would get <span class="system">macpro.asus.local</span>.</p>
<p>Now run the command to start named:</p>
<p class="command">sudo /etc/init.d/named start</p>
<p>If it does not start, check the logs in <span class="system">/var/logs</span>.</p>
<p>&nbsp;</p>
<h3 id="last-but-not-least-iptables">Last but not least, IPTABLES</h3>
<p>First thing is first, we need to edit <span class="system">sysctl.conf</span> in the folder <span class="system">/etc/</span>, so:</p>
<p class="command">sudo vi /etc/sysctl.conf</p>
<p>Uncomment line 28. That means removing the <span class="system">#</span> in front of it. The line should be <span class="system">net.ipv4.ip_forward=1</span>
</p>
<p>Next, let's <span class="system">vi</span> over to <span class="system">rc.local</span>:</p>
<p class="command">sudo vi /etc/rc.local</p>
<p>Add these two lines to the bottom of the file:</p>
<pre>/sbin/iptables -P FORWARD ACCEPT
/sbin/iptables --table nat -A POSTROUTING -o eth0 -j MASQUERADE
</pre>
<p>This will set up your gateway using iptables. You can use iptables to make this more secure than this basic setup.
</p>
<p>To forward ports, you can add something like this to the end of the <span class="system">rc.local</span> file.</p>
<pre>/sbin/iptables -t nat -A PREROUTING -p tcp -i eth0 -d jgibbs.dyndns.org --dport 3389 -j DNAT --to 172.17.207.4:3389</pre>
<p>The long line above will port forward all incoming traffic on port <span class="system">3389</span> to the IP <span class="system">172.17.207.4</span>, so I can remote desktop into my Windows box from outside my network.</p>
<p>You can do this with any ports you wish.</p>
<p><b>RESTART!</b></p>
<p>Also, report any problems and I will fix this tutorial with updates. Thanks, Jeremy user gibbsj.</p>
<div style="height:30px; margin-top:20px;">
<p style="text-align:right;"><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/pdficon_small.png"> <a href="https://www.howtoforge.com/subscription/">view as pdf</a> | <img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/print.gif"> <a href="https://www.howtoforge.com/subscription/">print</a></p>
</div>
<div style="height:30px; margin-top:20px;">
<div style="float:left;"><b>Share this page:</b></div>
<div style="float:left; margin-left:10px;"><iframe data-url="http://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/tweet_button.html" title="Twitter Tweet Button" style="position: static; visibility: visible; width: 60px; height: 22px;" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" allowtransparency="true" id="twitter-widget-1" frameborder="0" scrolling="no"></iframe> <iframe data-screen-name="howtoforgecom" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/follow_button.html" title="Twitter Follow Button" style="position: static; visibility: visible; width: 242px; height: 22px;" class="twitter-follow-button twitter-follow-button-rendered" allowtransparency="true" id="twitter-widget-0" frameborder="0" scrolling="no"></iframe></div>
<div style="float:left; margin-left:20px;"><fb:like fb-iframe-plugin-query="action=recommend&amp;app_id=&amp;color_scheme=light&amp;container_width=131&amp;font=trebuchet%20ms&amp;href=https%3A%2F%2Fwww.howtoforge.com%2Fnat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey" fb-xfbml-state="rendered" class=" fb_iframe_widget" href="https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" layout="button_count" action="recommend" font="trebuchet ms" colorscheme="light"><span style="vertical-align: bottom; width: 131px; height: 20px;"><iframe class="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/like.html" style="border: medium none; visibility: visible; width: 131px; height: 20px;" title="fb:like Facebook Social Plugin" allowfullscreen="true" allowtransparency="true" name="f9379b5175e4e" frameborder="0" height="1000px" scrolling="no" width="1000px"></iframe></span></fb:like></div>
<div style="float:left; margin-left:50px;"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px;"><iframe title="+1" data-gapiattached="true" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/fastbutton.html" name="I2_1485183073889" id="I2_1485183073889" vspace="0" tabindex="0" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" marginwidth="0" marginheight="0" hspace="0" ng-non-bindable="" frameborder="0" scrolling="no" width="100%"></iframe></div></div>
</div>
</div>
 
 
<div id="htfContentPageComment">
<a name="comments"></a>
<h2>28 Comment(s)</h2>
 
<div id="commentform">
<div class="commentContainerHead" style="font-size:18px;">Add comment</div>
<div class="commentContainer">
<form method="post" action="/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server/#comments">
<input name="reply_to" id="reply-to-comment" value="0" type="hidden">
<div id="commentFormDetail">
<div style="width:48%; float:left; margin-right:3%">
<label for="commentname">Name *</label>
<input id="commentname" name="commentname">
</div>
<div style="width:48%;float:left;">
<label for="commentname">Email *</label>
<input id="commentemail" name="commentemail">
</div>
<div style="clear:both;"></div>
</div>
<div style="visibility: hidden; border-width: 1px;" id="mceu_5" class="mce-tinymce mce-container mce-panel" hidefocus="1" tabindex="-1" role="application"><div id="mceu_5-body" class="mce-container-body mce-stack-layout"><div id="mceu_6" class="mce-toolbar-grp mce-container mce-panel mce-first mce-stack-layout-item" hidefocus="1" tabindex="-1" role="group"><div id="mceu_6-body" class="mce-container-body mce-stack-layout"><div id="mceu_7" class="mce-container mce-toolbar mce-first mce-last mce-stack-layout-item" role="toolbar"><div id="mceu_7-body" class="mce-container-body mce-flow-layout"><div role="group" id="mceu_8" class="mce-container mce-first mce-flow-layout-item mce-btn-group"><div id="mceu_8-body"><div aria-disabled="true" aria-label="Undo" role="button" id="mceu_0" class="mce-widget mce-btn mce-first mce-disabled" tabindex="-1" aria-labelledby="mceu_0"><button role="presentation" type="button" tabindex="-1"><i class="mce-ico mce-i-undo"></i></button></div><div aria-disabled="true" aria-label="Redo" role="button" id="mceu_1" class="mce-widget mce-btn mce-last mce-disabled" tabindex="-1" aria-labelledby="mceu_1"><button role="presentation" type="button" tabindex="-1"><i class="mce-ico mce-i-redo"></i></button></div></div></div><div role="group" id="mceu_9" class="mce-container mce-last mce-flow-layout-item mce-btn-group"><div id="mceu_9-body"><div aria-label="Bold" role="button" id="mceu_2" class="mce-widget mce-btn mce-first" tabindex="-1" aria-labelledby="mceu_2"><button role="presentation" type="button" tabindex="-1"><i class="mce-ico mce-i-bold"></i></button></div><div aria-label="Italic" role="button" id="mceu_3" class="mce-widget mce-btn" tabindex="-1" aria-labelledby="mceu_3"><button role="presentation" type="button" tabindex="-1"><i class="mce-ico mce-i-italic"></i></button></div><div aria-label="Insert/edit link" role="button" id="mceu_4" class="mce-widget mce-btn mce-last" tabindex="-1" aria-labelledby="mceu_4"><button role="presentation" type="button" tabindex="-1"><i class="mce-ico mce-i-link"></i></button></div></div></div></div></div></div></div><div style="border-width: 1px 0px 0px;" id="mceu_10" class="mce-edit-area mce-container mce-panel mce-stack-layout-item" hidefocus="1" tabindex="-1" role="group"><iframe src='javascript:""' style="width: 100%; height: 100px; display: block;" title="Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help" allowtransparency="true" id="commentedit_ifr" frameborder="0"></iframe></div><div style="border-width: 1px 0px 0px;" id="mceu_11" class="mce-statusbar mce-container mce-panel mce-last mce-stack-layout-item" hidefocus="1" tabindex="-1" role="group"><div id="mceu_11-body" class="mce-container-body mce-flow-layout"><div id="mceu_12" class="mce-path mce-first mce-flow-layout-item"><div role="button" class="mce-path-item mce-last" data-index="0" tabindex="-1" id="mceu_12-0" aria-level="0">p</div></div><div id="mceu_13" class="mce-last mce-flow-layout-item mce-resizehandle"><i class="mce-ico mce-i-resize"></i></div></div></div></div></div><textarea aria-hidden="true" id="commentedit" name="commentedit" style="width: auto; display: none;"></textarea>
<div>
<div style="float:left;">
<div class="g-recaptcha" data-sitekey="6LdX9fUSAAAAALWwVoPdeXScMSketz4npF-0QcQ1"><div style="width: 304px; height: 78px;"><div><iframe name="undefined" title="recaptcha widget" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/anchor.html" frameborder="0" height="78" scrolling="no" width="304"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid #c1c1c1; margin: 10px 25px; padding: 0px; resize: none;  display: none; "></textarea></div></div>
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/api.js">
      </script>
</div>
<div style="margin-top:10px;margin-bottom:10px;">
<input name="submit" class="button primary" style="float:right;" value="Submit comment" type="submit">
</div>
<div style="clear:both;"></div>
</div>
 
<script>
	tinymce.init({
		selector: "textarea#commentedit",
		theme: "modern",
		height: 100,
		apply_source_formatting : true,
		remove_linebreaks : false,
		menubar : false,
		/*auto_focus : "commentedit",*/
		plugins: [
		"link"
		],
		/*plugins: [
			"advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
			"searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
			"save table contextmenu directionality emoticons template paste textcolor"
		],*/
		content_css: "https://www.howtoforge.com/themes/howtoforge/css/custom.css",
		toolbar: "undo redo | bold italic link", 
		/*style_formats: [
			{title: 'Bold text', inline: 'b'},
			{title: 'Red text', inline: 'span', styles: {color: '#ff0000'}},
			{title: 'Red header', block: 'h1', styles: {color: '#ff0000'}},
			{title: 'Example 1', inline: 'span', classes: 'example1'},
			{title: 'Example 2', inline: 'span', classes: 'example2'},
			{title: 'Table styles'},
			{title: 'Table row 1', selector: 'tr', classes: 'tablerow1'}
		]*/
	}); 
	</script>
</form>
</div>
</div>
 
<h3>Comments</h3>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11641" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11641" class="commentContainer commentLevel0">
<p>a note for newbies: VI is hard to learn and&nbsp;easy to&nbsp;forget 
if not been using for a while but it's "legacy" and you can find&nbsp;it
 and using it&nbsp;in very old systems.</p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Nausser </div>
<div class="floatRight"><a href="#" data-comment="11642" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11642" class="commentContainer commentLevel0">
<p></p><p>I've had zero luck with port forwarding 5900 to another Ubuntu
 machine. I'm running Ubuntu 8.10 64-bit server for my DHCP/NAT and 
hopefully someday VPN services. All in terms of internet access works 
great for connecting clients with the exception of the "Pinger Plus" 
device which cannot get an IP from my Ubuntu server, however, can obtain
 an address and ping with no problems if I use a windows or Cisco DHCP 
server. Not a huge deal but if anyone happens to know.</p>
<p>&nbsp;As far as the port forwarding goes, I've tried every flavor of the instructions above. Help is greatly needed!</p>
<p>&nbsp;</p>
<p>Thanks! <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11643" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11643" class="commentContainer commentLevel0">
<p>nano does have syntax highlighting. </p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> </div>
<div class="floatRight"><a href="#" data-comment="11644" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11644" class="commentContainer commentLevel0">
<p></p><p>Fixed the netmask problem.&nbsp; Restarting insures everything
 is working.&nbsp; Of course many times you could just do a 
/etc/init.d/networking restart ...</p>
<p>&nbsp;But sometimes it's just better to tell people to restart. &nbsp; <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11645" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11645" class="commentContainer commentLevel0">
<p></p><p>"<i>As a side note, if you don't know how to use VI use nano or learn VI."</i></p>
<p>&nbsp;Nano is 100 times better than that old cluncky VI.<br></p>
<p>Your side / "funny" comments are so annoying I couldn't follow the 
article.... For the time being I'll stick to my ClarkConnect server...<br></p><i></i><p></p>
</div>
<div class="commentContainerHead commentLevel1">
<div class="floatLeft"><b>From:</b> </div>
<div class="floatRight"><a href="#" data-comment="11649" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11649" class="commentContainer commentLevel1">
<p></p><p>There really are not that many "funny" comments.&nbsp; Lighten up..</p>
<p>&nbsp;VI is far more powerful then nano, as VI does syntax highlighting ect. </p>
<p>Also, imagine you had someone who edited a file in notepad and now your document is full of ^M or somthing, with vi you could do</p>
<p>1,$ s/^M//g&nbsp; to remove them...&nbsp; </p>
<p>&nbsp;You cant just do ^M though, you need to hit ctrl v to tell vi 
to use the literal input, then ctrl m to get your ^M.&nbsp; Now imagine 
if you has a whole slew of changes to make at once, you can also do that
 with vi, also, imagion if you had multipal files, since vi uses ex, you
 can make those changes to all the files at once!&nbsp; Very powerful 
stuff.&nbsp; You will find that most real coder's still use VI or 
VIM.&nbsp; Some use emacs which is also very good, but VI is the 
standard still.&nbsp; Also, imagion you get your first job, as it sounds
 if your young, but.. you get your first job, and you get on a unix 
box.&nbsp; No pico, no nano, no ee, but what is in ALL distrobutions of 
Unix???&nbsp; VI!&nbsp; Learning to work with bare bone tools that are 
always there will save your self lots of troble..<br></p><p></p>
</div>
<div class="commentContainerHead commentLevel2">
<div class="floatLeft"><b>From:</b> Adbs </div>
<div class="floatRight"><a href="#" data-comment="11658" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11658" class="commentContainer commentLevel2">
<p></p><p>Hello all.</p>
<p>I think you've done a brilliant job and we should thank people who 
share their knowledge with others, instead of making ridiculous comments
 such as "Annoying comments" etc..</p>
<p>&nbsp;</p>
<p>I personally thank you, I just wanted to ask you one thing, </p>
<p>I have a back-end webserver which resides on example : 192.168.1.3</p>
<p>A DHCP DNS servers which both run on the same machine on 192.168.1.1</p>
<p>Another Machine hosts the Proxy server (Squid3) on 192.168.1.4<br></p>
<p>Now I need to be able to use IPtables to forward all connections to the proxyserver&nbsp; 192.168.1.4</p>
<p>I want the proxy server to intercept all incoming connections and 
forward them accordingly to the back end server(s) and services.</p>
<p>But I am very limited in using iptables, can anyone here help with some suggestions please?</p>
<p>At the moment the iptables is set to allow simple browsing and access to the internet.</p>
<p>&nbsp;</p>
<p>Internet &gt;&gt;&gt; Machine (A) (router, DHCP, DNS) &gt;&gt;Switch &gt;&gt;(clients)&nbsp; Machine (B) Proxy and webserver(s)</p>
<p>To the switch are connected the web-servers, the proxy-server and 3 windows clients&nbsp;</p>
<p>It is set&nbsp; in that order I hope it's clear, how can I do that please??</p>
<p>I will appreciate any help and thank you all :)</p>
<p>Regards</p>
<p>&nbsp;</p><p></p>
</div>
<div class="commentContainerHead commentLevel3">
<div class="floatLeft"><b>From:</b> McDaeMonD </div>
<div class="floatRight"><a href="#" data-comment="11659" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11659" class="commentContainer commentLevel3">
<p></p><p>try this links <br></p>
<p>http://www.howtoforge.com/dansguardian-content-filtering-with-transparent-proxy-on-ubuntu-9.10-karmic</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11646" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11646" class="commentContainer commentLevel0">
<p></p><p>1. There is not neccessity to restart.</p>
<p>2. Your set of ip, network and netmask is wrong.</p>
<p>&nbsp;</p>
<p>Read more. <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Jamie </div>
<div class="floatRight"><a href="#" data-comment="11647" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11647" class="commentContainer commentLevel0">
<p>In the dhcpd.conf "subnet 172.17.0.0" should be&nbsp; "subnet 172.17.207.0"</p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11648" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11648" class="commentContainer commentLevel0">
<p>Thanks, I have been looking around trying to get my DNS setup correctly and your article helped.<br></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> snehal </div>
<div class="floatRight"><a href="#" data-comment="11650" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11650" class="commentContainer commentLevel0">
<p></p><p>Thanks a lot. :) &nbsp;</p>
<p>&nbsp;</p><p></p>
</div>
<div class="commentContainerHead commentLevel1">
<div class="floatLeft"><b>From:</b> phil </div>
<div class="floatRight"><a href="#" data-comment="11660" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11660" class="commentContainer commentLevel1">
<p></p><p>Just try this in nano</p>
<p>vi -O2 &lt;file1&gt; &lt;file2&gt;</p>
<p>or</p>
<p>vi -d &lt;file1&gt; &lt;file2&gt;</p>
<p>and commands in vi are *so* much more powerful</p>
<p>The quote I always repeat whenever anyone complains how hard vi is to learn is:</p>
<p>Yeah, it might be a steep hill to climb, but once you get to the top, you can fly.</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Seth </div>
<div class="floatRight"><a href="#" data-comment="11651" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11651" class="commentContainer commentLevel0">
<p></p><p>Not sure how I missed the message to not ask for help here, moving this to the forums :).</p>
<p>&nbsp;</p>
<p>Seth <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Ryaz Khan </div>
<div class="floatRight"><a href="#" data-comment="11652" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11652" class="commentContainer commentLevel0">
<p></p><p>I am very sorry but I never understood this guy guides, I know
 it could be just me. In this he did not mentioned about default gateway
 for LAN where we are setting static IP address. Will any internet 
connection work without gateway? Not sure about that so please help. I 
thought gateway is the main door to enter to other networks. Again I 
could be worng</p>
<p>Thank you for reading my stupid comments <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel1">
<div class="floatLeft"><b>From:</b> Nausser </div>
<div class="floatRight"><a href="#" data-comment="11655" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11655" class="commentContainer commentLevel1">
<p></p><p>You may very well have figured this out already...</p>
<p>However, if you havn't, I wanted to post for others that you are 
correct in saying a gateway address is always needed for internet 
access.</p>
<p>&nbsp;</p>
<p>When a computer has two or more NICs (Network Interface Cards), it 
needs to know which card gets it to the internet. It knows to always use
 the one with the default gateway listed.&nbsp;</p>
<p>The other card probably eth1, does not connect to the internet, 
rather other computer connect to it as their default gateway to connect 
to the internet (internet sharing).</p>
<p>Hope this helps someone out. <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Seth </div>
<div class="floatRight"><a href="#" data-comment="11653" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11653" class="commentContainer commentLevel0">
<p></p><p>I am moving from a freeBSD router/gateway computer to Ubuntu, and am stuck on 1:1 Nat'ing. </p>
<p>&nbsp;I have a class C subnet from my ISP, and connect using PPPoE.&nbsp;</p>
<p>&nbsp;In freeBSD the PPP daemon could do nat'ing, and was as easy as:</p>
<p>ppp.conf: ( public IPs changed to protect me )<br></p>
<p>...</p>
<p>&nbsp;&nbsp;&nbsp; nat enable yes<br>&nbsp;&nbsp;&nbsp; nat addr 192.168.1.2 x.x.x.170<br>&nbsp;&nbsp;&nbsp; nat addr 192.168.1.3 x.x.x.171<br>&nbsp;&nbsp;&nbsp; nat addr 192.168.1.4 x.x.x.172<br>&nbsp;&nbsp;&nbsp; nat addr 192.168.1.5 x.x.x.173<br>&nbsp;&nbsp;&nbsp; nat addr 192.168.1.6 x.x.x.174<br>&nbsp;&nbsp;&nbsp; nat same_ports yes<br>&nbsp;&nbsp;&nbsp; nat use_sockets yes</p>
<p>... </p>
<p>&nbsp;Would you have some suggestions on how to configure iptables to provide this behavior? </p>
<p>( selected IPs get an external IP through NAT ( snat? ), all other IPs get normal NAT )</p>
<p>Thanks,&nbsp;</p>
<p>Seth <br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11654" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11654" class="commentContainer commentLevel0">
<p></p><p>So i just went through this entire article. It has been awhile
 since i have setup with linux but this tutorial was very well written.</p>
<p>I noticed in order for everything to work i needed to add these lines before the Exit 0 line in the iptable list</p>
<p>/sbin/iptables -P FORWARD ACCEPT<br>/sbin/iptables --table nat -A POSTROUTING -o eth0 -j MASQUERADE<br></p>
<p>and also the gateway didnt want to replicate out to the clients so i 
changed the order of option routers to just under the ddns update 
style...</p>
<p>ddns-update-style none;<br>option routers 172.17.207.121;</p>
<p>&nbsp;</p>
<p>but other than that it is up smoothly... now i have to play around with IPtables to limit access to specific addresses...</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Stas </div>
<div class="floatRight"><a href="#" data-comment="11656" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11656" class="commentContainer commentLevel0">
<p>Thank you!</p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11657" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11657" class="commentContainer commentLevel0">
<p>finally, i can implement this tutorial for my old cpu successfuly. 
but in the client, YM cannot connect to the server. how to solve 
this?thanks before for the reply!<br></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Jason </div>
<div class="floatRight"><a href="#" data-comment="11661" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11661" class="commentContainer commentLevel0">
<p></p><p>I've been struggling for a couple days to get my network set 
up the way I wanted (with the equipment I have on hand), and your 
instructions were exactly what I needed to get it up and running.</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> prasinos </div>
<div class="floatRight"><a href="#" data-comment="11662" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11662" class="commentContainer commentLevel0">
<p></p><p>.local is a poor choice for a domain name, as it used as a 
default domain in avahi (zeroconf/mDNS implementation). It is better to 
use something else (or use nothing and rely on avahi).</p>
<p>Using bind and dhcp-server for a home network is overkill, try dnsmasq.</p>
<p><br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Anonymous </div>
<div class="floatRight"><a href="#" data-comment="11663" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment11663" class="commentContainer commentLevel0">
<p></p><p>Hi, The way u narrate is really awesome. Its easy to configure even for a start up like me.<br><br>I have configured every thing as above but at the end when i tried to give the<br> "<i>sudo /etc/init.d/named start</i>" command its showing the following message</p><p>"<i>sudo: /etc/init.d/named: command not found"&nbsp; </i>so what could be the problem...<br><br>can u please help u out in this issue....<br></p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Laurentiu </div>
<div class="floatRight"><a href="#" data-comment="16446" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment16446" class="commentContainer commentLevel0">
<p></p><p>Try /etc/init.d/bind9</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Laurentiu </div>
<div class="floatRight"><a href="#" data-comment="16447" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment16447" class="commentContainer commentLevel0">
<p></p><p>Hi, the tutorial is great.</p>
<p>It almost worked for my on Debian 8 and with isc-dhch-server. I say 
it almost worked becouse I have a small problem. Dhcp works for lan 
computers and also the lan computers have internet access. I will try to
 explaim the problem. Let's say I do a search for "debian dhcp" on 
google half of the results doesn't load in the web browser. It looks 
like some of the webpages dont work. I think it's a dns problem but I 
dont know how to solve it. Of course I added dns ip's of my isp.&nbsp;</p>
<p>Sorry for the long comment.</p>
<p>Thank you!</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Kosta </div>
<div class="floatRight"><a href="#" data-comment="16863" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment16863" class="commentContainer commentLevel0">
<p></p><p>Hi,</p>
<p>I am trying to do port forwarding to can access RemoteDesktop but still i cant connect remote eve if i add</p>
<p>&nbsp;</p>
/sbin/iptables -P FORWARD ACCEPT
/sbin/iptables --table nat -A POSTROUTING -o eth0 -j MASQUERADE
/sbin/iptables -t nat -A PREROUTING -p tcp -i eth0 -d jgibbs.dyndns.org 
--dport 3389 -j DNAT --to 172.17.207.4:3389I use vmbr0 interface. Can 
you help me?<p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> Oli </div>
<div class="floatRight"><a href="#" data-comment="18962" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment18962" class="commentContainer commentLevel0">
<p></p><p>Hi Guys</p>
<p>as stupid this might sound but I'm not sure what you mean by "Take 
your first network card, and plug your WAN connection into it" on my 
current ubuntu server, ive only got eth0 but when i try to add eth1, its
 coming up with eth1: ERROR while getting interface flags: No such 
device</p>
<p>Im able to create virtual eth0:1 but when i do a route -n or netstat -r -n i cant see eth1:0</p>
<p>Im stuck. can anybody help please? I live in the Uk and i have a basic talktalk router for internet connection</p>
<p>&nbsp;</p><p></p>
</div>
<div class="commentContainerHead commentLevel0">
<div class="floatLeft"><b>From:</b> James Nnaemeka </div>
<div class="floatRight"><a href="#" data-comment="19265" class="reply-to">Reply</a> &nbsp;</div>
<div class="clearBoth"></div>
</div>
<div id="comment19265" class="commentContainer commentLevel0">
<p></p><p>hello all, I have a simple question. I dont have a router. i 
connect to the internet through a usb dongle or through hotspot from my 
android phone. i want to be able to view my web server outside my local 
network... i have apache server running on my local network in germany 
and i want my friend in france to be able to view it if i give him my 
external (public) ip address. how do i configure the NAT Gateway, 
Iptables, Port Forwarding, DNS And DHCP Setup, etc to be able to achieve
 that? my operating system is kali linux rolling edition (2016). if its 
not possible (which i doubt), is there a software i can use to be able 
to achieve that? My goal is to allow someone outside my home network to 
view my webpage on port 80. thanks</p><p></p>
</div>
</div>
 
<div class="breadBoxBottom">
<nav>
<fieldset style="" class="breadcrumb">
<span class="crumbs">
<span class="crust homeCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://www.howtoforge.com/" class="crumb" rel="up" itemprop="url"><span itemprop="title">Tutorials</span></a>
<span class="arrow"><span></span></span>
</span>
<span class="crust selectedTabCrumb" itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb">
<a href="https://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" class="crumb" rel="up" itemprop="url"><span itemprop="title">NAT Gateway, Iptables, Port Forwarding, DNS And DHCP Setup - Ubuntu 8.10 Server</span></a>
<span class="arrow"><span>&gt;</span></span>
</span>
</span>
</fieldset>
</nav>
</div>
<script>
<!--

$(document).on('click', 'a.reply-to', function(e) {
	e.preventDefault();
	
	var self = $(this);
	var cid = self.attr('data-comment');
	console.log(cid);
	if(!cid) return this;
	
	$('#commentform').insertAfter('#comment' + cid);
	$('#reply-to-comment').val(cid);
	/*tinyMCE.activeEditor.focus();*/
	var textareaId = 'commentedit';
	tinyMCE.get(textareaId).remove();
	tinyMCE.execCommand("mceAddEditor", false, textareaId);
	tinyMCE.activeEditor.focus();
});
//-->
</script>
<div style="margin-top:10px;margin-bottom:10px;text-align:center;">
 
<center>
 
 
<script type="text/javascript">
GA_googleFillSlot("howtoforge_com_article_leaderboard_b_728x90");
</script><script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/ads"></script><div id="google_ads_div_howtoforge_com_article_leaderboard_b_728x90_ad_wrapper">
<div id="google_ads_div_howtoforge_com_article_leaderboard_b_728x90_ad_container" style="display:inline-block;"><script>(function(){var g=this,l=function(a,b){var c=a.split("."),d=g;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:n;return p.apply(null,arguments)},q=Date.now||function(){return+new Date};var r=document,s=window;var t=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(null,a[c],c,a)},w=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement("img");c.src=b;a.google_image_requests.push(c)};var x=function(a){return{visible:1,hidden:2,prerender:3,preview:4}[a.webkitVisibilityState||a.mozVisibilityState||a.visibilityState||""]||0},y=function(a){var b;a.mozVisibilityState?b="mozvisibilitychange":a.webkitVisibilityState?b="webkitvisibilitychange":a.visibilityState&&(b="visibilitychange");return b};var C=function(){this.g=r;this.k=s;this.j=!1;this.i=null;this.h=[];this.o={};if(z)this.i=q();else if(3==x(this.g)){this.i=q();var a=p(this.q,this);A&&(a=A("di::vch",a));this.p=a;var b=this.g,c=y(this.g);b.addEventListener?b.addEventListener(c,a,!1):b.attachEvent&&b.attachEvent("on"+c,a)}else B(this)},A;C.m=function(){return C.n?C.n:C.n=new C};var D=/^([^:]+:\/\/[^/]+)/m,G=/^\d*,(.+)$/m,z=!1,B=function(a){if(!a.j){a.j=!0;for(var b=0;b<a.h.length;++b)a.l.apply(a,a.h[b]);a.h=[]}};C.prototype.s=function(a,b){var c=b.target.u();(c=G.exec(c))&&(this.o[a]=c[1])};C.prototype.l=function(a,b){this.k.rvdt=this.i?q()-this.i:0;var c;if(c=this.t)t:{try{var d=D.exec(this.k.location.href),e=D.exec(a);if(d&&e&&d[1]==e[1]&&b){var f=p(this.s,this,b);this.t(a,f);c=!0;break t}}catch(u){}c=!1}c||w(this.k,a)};C.prototype.q=function(){if(3!=x(this.g)){B(this);var a=this.g,b=y(this.g),c=this.p;a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}};var H=/^true$/.test("")?!0:!1;var I={},J=function(a){var b=a.toString();a.name&&-1==b.indexOf(a.name)&&(b+=": "+a.name);a.message&&-1==b.indexOf(a.message)&&(b+=": "+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&&(a=c+"\n"+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=a.replace(/\n */g,"\n")}catch(e){b=c}}return b},M=function(a,b,c,d){var e=K,f,u=!0;try{f=b()}catch(h){try{var N=J(h);b="";h.fileName&&(b=h.fileName);var E=-1;h.lineNumber&&(E=h.lineNumber);var v;t:{try{v=c?c():"";break t}catch(S){}v=""}u=e(a,N,b,E,v)}catch(k){try{var O=J(k);a="";k.fileName&&(a=k.fileName);c=-1;k.lineNumber&&(c=k.lineNumber);K("pAR",O,a,c,void 0,void 0)}catch(F){L({context:"mRE",msg:F.toString()+"\n"+(F.stack||"")},void 0)}}if(!u)throw h;}finally{if(d)try{d()}catch(T){}}return f},K=function(a,b,c,d,e,f){a={context:a,msg:b.substring(0,512),eid:e&&e.substring(0,40),file:c,line:d.toString(),url:r.URL.substring(0,512),ref:r.referrer.substring(0,512)};P(a);L(a,f);return!0},L=function(a,b){try{if(Math.random()<(b||.01)){var c="/pagead/gen_204?id=jserror"+Q(a),d="http"+("https:"==s.location.protocol?"s":"")+"://pagead2.googlesyndication.com"+c,d=d.substring(0,2E3);w(s,d)}}catch(e){}},P=function(a){var b=a||{};t(I,function(a,d){b[d]=s[a]})},R=function(a,b,c,d,e){return function(){var f=arguments;return M(a,function(){return b.apply(c,f)},d,e)}},Q=function(a){var b="";t(a,function(a,d){if(0===a||a)b+="&"+d+"="+("function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return b};A=function(a,b,c,d){return R(a,b,void 0,c,d)};z=H;l("vu",R("vu",function(a,b){var c=a.replace("&amp;","&"),d=/(google|doubleclick).*\/pagead\/adview/.test(c),e=C.m();if(d){d="&vis="+x(e.g);b&&(d+="&ve=1");var f=c.indexOf("&adurl"),c=-1==f?c+d:c.substring(0,f)+d+c.substring(f)}e.j?e.l(c,b):e.h.push([c,b])}));l("vv",R("vv",function(){z&&B(C.m())}));})();</script><script>vu("https://securepubads.g.doubleclick.net/pcs/view?xai\x3dAKAOjssBlBg4vhUp9FGnJfCs6-PN1_LeJZU_FslJ8o2R_mqH7yP5OWnv7ehQvlqDbPhmCjYcyTwaR7XxMtfFFozYZIhgI0qFm1okFqe3viKg1iUddegwihn7hAQqyA4CjrLzQCvrJ04KHF2qPq9NNJnoMJg7uDeosYSxJIjJqk4VtOozCh-l40IlluJhY7LILtAyrNSeVPGCpz_rQ8nxBsDzzH-A7P91C29LcvrtqOJ-9eYmtCkMAliEXaEUJcxasa3PB7AjLqsYfS8Y_l5jBCcz\x26sig\x3dCg0ArKJSzPxKA0PhDB_TEAE\x26urlfix\x3d1\x26adurl\x3d")</script><div>
<script src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/gpt.js">
    googletag.pubads().definePassback('/8095840/.2_7098.3_howtoforge.com_tier1', [728, 90]).display();
</script><script id="gpt-impl-0.6274904807878102" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/pubads_impl_108.js"></script><script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/ads_004" id="sae-script-1"></script><div id="gpt_unit_/8095840/.2_7098.3_howtoforge.com_tier1_1_ad_container"><script>(function(){var g=this,l=function(a,b){var c=a.split("."),d=g;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b},m=function(a,b,c){return a.call.apply(a.bind,arguments)},n=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},p=function(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:n;return p.apply(null,arguments)},q=Date.now||function(){return+new Date};var r=document,s=window;var t=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(null,a[c],c,a)},w=function(a,b){a.google_image_requests||(a.google_image_requests=[]);var c=a.document.createElement("img");c.src=b;a.google_image_requests.push(c)};var x=function(a){return{visible:1,hidden:2,prerender:3,preview:4}[a.webkitVisibilityState||a.mozVisibilityState||a.visibilityState||""]||0},y=function(a){var b;a.mozVisibilityState?b="mozvisibilitychange":a.webkitVisibilityState?b="webkitvisibilitychange":a.visibilityState&&(b="visibilitychange");return b};var C=function(){this.g=r;this.k=s;this.j=!1;this.i=null;this.h=[];this.o={};if(z)this.i=q();else if(3==x(this.g)){this.i=q();var a=p(this.q,this);A&&(a=A("di::vch",a));this.p=a;var b=this.g,c=y(this.g);b.addEventListener?b.addEventListener(c,a,!1):b.attachEvent&&b.attachEvent("on"+c,a)}else B(this)},A;C.m=function(){return C.n?C.n:C.n=new C};var D=/^([^:]+:\/\/[^/]+)/m,G=/^\d*,(.+)$/m,z=!1,B=function(a){if(!a.j){a.j=!0;for(var b=0;b<a.h.length;++b)a.l.apply(a,a.h[b]);a.h=[]}};C.prototype.s=function(a,b){var c=b.target.u();(c=G.exec(c))&&(this.o[a]=c[1])};C.prototype.l=function(a,b){this.k.rvdt=this.i?q()-this.i:0;var c;if(c=this.t)t:{try{var d=D.exec(this.k.location.href),e=D.exec(a);if(d&&e&&d[1]==e[1]&&b){var f=p(this.s,this,b);this.t(a,f);c=!0;break t}}catch(u){}c=!1}c||w(this.k,a)};C.prototype.q=function(){if(3!=x(this.g)){B(this);var a=this.g,b=y(this.g),c=this.p;a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}};var H=/^true$/.test("")?!0:!1;var I={},J=function(a){var b=a.toString();a.name&&-1==b.indexOf(a.name)&&(b+=": "+a.name);a.message&&-1==b.indexOf(a.message)&&(b+=": "+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&&(a=c+"\n"+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=a.replace(/\n */g,"\n")}catch(e){b=c}}return b},M=function(a,b,c,d){var e=K,f,u=!0;try{f=b()}catch(h){try{var N=J(h);b="";h.fileName&&(b=h.fileName);var E=-1;h.lineNumber&&(E=h.lineNumber);var v;t:{try{v=c?c():"";break t}catch(S){}v=""}u=e(a,N,b,E,v)}catch(k){try{var O=J(k);a="";k.fileName&&(a=k.fileName);c=-1;k.lineNumber&&(c=k.lineNumber);K("pAR",O,a,c,void 0,void 0)}catch(F){L({context:"mRE",msg:F.toString()+"\n"+(F.stack||"")},void 0)}}if(!u)throw h;}finally{if(d)try{d()}catch(T){}}return f},K=function(a,b,c,d,e,f){a={context:a,msg:b.substring(0,512),eid:e&&e.substring(0,40),file:c,line:d.toString(),url:r.URL.substring(0,512),ref:r.referrer.substring(0,512)};P(a);L(a,f);return!0},L=function(a,b){try{if(Math.random()<(b||.01)){var c="/pagead/gen_204?id=jserror"+Q(a),d="http"+("https:"==s.location.protocol?"s":"")+"://pagead2.googlesyndication.com"+c,d=d.substring(0,2E3);w(s,d)}}catch(e){}},P=function(a){var b=a||{};t(I,function(a,d){b[d]=s[a]})},R=function(a,b,c,d,e){return function(){var f=arguments;return M(a,function(){return b.apply(c,f)},d,e)}},Q=function(a){var b="";t(a,function(a,d){if(0===a||a)b+="&"+d+"="+("function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a))});return b};A=function(a,b,c,d){return R(a,b,void 0,c,d)};z=H;l("vu",R("vu",function(a,b){var c=a.replace("&amp;","&"),d=/(google|doubleclick).*\/pagead\/adview/.test(c),e=C.m();if(d){d="&vis="+x(e.g);b&&(d+="&ve=1");var f=c.indexOf("&adurl"),c=-1==f?c+d:c.substring(0,f)+d+c.substring(f)}e.j?e.l(c,b):e.h.push([c,b])}));l("vv",R("vv",function(){z&&B(C.m())}));})();</script><script>vu("https://securepubads.g.doubleclick.net/pcs/view?xai\x3dAKAOjsvsJWEUAlfVLJABBIwS0PmgJuDRem3ujTsPPKYIPHm-MwU6nawfJk4Ii7dVLjl-I60Y-Yq7V9DM994EEzN4wQscfwM9RCvnGx-dN_bVr9KjA5j12cA99rRUEgsrFP4Cw9_GpOkM3LwFr34jKziI_6oflhjeshy-HVdH1cx_FcWKLI9DKjAdQVu7yyd6esRoJEyeSOsd7gRuDbW_va5Gb26B51x8EM7YcduUfTQSNnhS21BjGx17Bj1m6k1anUnRJWWI_8jMzSQBiw\x26sig\x3dCg0ArKJSzJ7Lyvq28tLTEAE\x26urlfix\x3d1\x26adurl\x3d")</script><script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/amzn_ads.js"></script>
<script type="text/javascript">
  try {
    /* Slot size: 728x90 */ 
    amznads.getAdForSlot('3137', 'b63059c7-117a-496c-9796-171eadcdfa98');
  } catch(e) { /*ignore*/}
</script><script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/getad"></script><script type="text/javascript">
    google_ad_client = "ca-pub-3043223216276099";
    google_ad_slot = "1445120496";
    google_ad_width = 728;
    google_ad_height = 90;
</script>
<!-- Howtoforge 728x90 PubGalaxy Passback -->
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/show_ads.js">
</script><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="90" scrolling="no" width="728"></iframe></ins></ins>
<script type="text/javascript">(function(){var h=this,aa=function(){},ba=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},l=function(a){return"string"==typeof a},da=function(a,b,c){return a.call.apply(a.bind,arguments)},ea=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},fa=function(a,b,c){fa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return fa.apply(null,arguments)},ga=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},q=Date.now||function(){return+new Date},r=function(a,b){a=a.split(".");var c=h;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]?c[d]:c[d]={}:c[d]=b};var ha=function(a,b,c,d,e){if(e)c=a+("&"+b+"="+c);else{var f="&"+b+"=",g=a.indexOf(f);0>g?c=a+f+c:(g+=f.length,f=a.indexOf("&",g),c=0<=f?a.substring(0,g)+c+a.substring(f):a.substring(0,g)+c)}return 2E3<c.length?void 0!==d?ha(a,b,d,void 0,e):a:c};var ia=function(){var a=/[&\?#]exk=([^& ]+)/.exec(t.location.href);return a&&2==a.length?a[1]:null};var ja=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},la=function(a,b){var c=0;a=ja(String(a)).split(".");b=ja(String(b)).split(".");for(var d=Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var f=a[e]||"",g=b[e]||"";do{f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];if(0==f[0].length&&0==g[0].length)break;c=ka(0==f[1].length?0:parseInt(f[1],10),0==g[1].length?0:parseInt(g[1],10))||ka(0==f[2].length,0==g[2].length)||ka(f[2],g[2]);f=f[3];g=g[3]}while(0==c)}return c},ka=function(a,b){return a<b?-1:a>b?1:0};var ma=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},na=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=l(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},oa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=l(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};var pa=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});h.addEventListener("test",null,b)}catch(c){}return a}(),u=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,pa?d:d?d.capture||!1:!1):a.attachEvent&&a.attachEvent("on"+b,c)},qa=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,pa?void 0:!1):a.detachEvent&&a.detachEvent("on"+b,c)};var ra=function(a,b){for(var c in a)b.call(void 0,a[c],c,a)},sa=function(a,b){return null!==a&&b in a};var v;a:{var ta=h.navigator;if(ta){var ua=ta.userAgent;if(ua){v=ua;break a}}v=""}var w=function(a){return-1!=v.indexOf(a)},va=function(a){for(var b=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);return c};var wa=function(){return w("Trident")||w("MSIE")},x=function(){return(w("Chrome")||w("CriOS"))&&!w("Edge")},ya=function(){function a(a){var b;a:{b=d;for(var e=a.length,k=l(a)?a.split(""):a,m=0;m<e;m++)if(m in k&&b.call(void 0,k[m],m,a)){b=m;break a}b=-1}return c[0>b?null:l(a)?a.charAt(b):a[b]]||""}var b=v;if(wa())return xa(b);var b=va(b),c={};na(b,function(a){c[a[0]]=a[1]});var d=ga(sa,c);return w("Opera")?a(["Version","Opera"]):w("Edge")?a(["Edge"]):x()?a(["Chrome","CriOS"]):(b=b[2])&&b[1]||""},xa=function(a){var b=/rv: *([\d\.]*)/.exec(a);if(b&&b[1])return b[1];var b="",c=/MSIE +([\d\.]+)/.exec(a);if(c&&c[1])if(a=/Trident\/(\d.\d)/.exec(a),"7.0"==c[1])if(a&&a[1])switch(a[1]){case "4.0":b="8.0";break;case "5.0":b="9.0";break;case "6.0":b="10.0";break;case "7.0":b="11.0"}else b="7.0";else b=c[1];return b};var za=function(){return w("iPhone")&&!w("iPod")&&!w("iPad")};var Aa=function(a){Aa[" "](a);return a};Aa[" "]=aa;var Ca=function(a,b){var c=Ba;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Da=w("Opera"),y=wa(),Ea=w("Edge"),z=w("Gecko")&&!(-1!=v.toLowerCase().indexOf("webkit")&&!w("Edge"))&&!(w("Trident")||w("MSIE"))&&!w("Edge"),Fa=-1!=v.toLowerCase().indexOf("webkit")&&!w("Edge"),Ja=w("Macintosh"),Ka=w("Windows"),La=w("Android"),Ma=za(),Na=w("iPad"),Oa=w("iPod"),Pa=function(){var a=h.document;return a?a.documentMode:void 0},Qa;a:{var Ra="",Sa=function(){var a=v;if(z)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Ea)return/Edge\/([\d\.]+)/.exec(a);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Fa)return/WebKit\/(\S+)/.exec(a);if(Da)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Sa&&(Ra=Sa?Sa[1]:"");if(y){var Ta=Pa();if(null!=Ta&&Ta>parseFloat(Ra)){Qa=String(Ta);break a}}Qa=Ra}var Ua=Qa,Ba={},A=function(a){return Ca(a,function(){return 0<=la(Ua,a)})},Va;var Wa=h.document;Va=Wa&&y?Pa()||("CSS1Compat"==Wa.compatMode?parseInt(Ua,10):5):void 0;var Xa=w("Firefox"),Ya=za()||w("iPod"),Za=w("iPad"),$a=w("Android")&&!(x()||w("Firefox")||w("Opera")||w("Silk")),ab=x(),bb=w("Safari")&&!(x()||w("Coast")||w("Opera")||w("Edge")||w("Silk")||w("Android"))&&!(za()||w("iPad")||w("iPod"));var db=function(a,b,c){var d=cb();this.label=a;this.type=b;this.eventId=c;this.value=d;this.duration=0};var B=function(a,b){this.enabled=Math.random()<a;this.i=[];this.u={};this.f={};this.v=b||h;b&&(b.google_js_reporting_queue=b.google_js_reporting_queue||[],this.i=b.google_js_reporting_queue)},cb=function(){var a=h.performance;return a&&a.now?a.now():q()},C=function(a){return"goog_"+a.label+"_"+a.type+"_"+a.eventId},eb=function(a,b){a=a.v;a.performance&&a.performance.mark&&a.performance.mark(b)};B.prototype.disable=function(){na(this.i,this.s,this);this.i.length=0;this.enabled=!1};B.prototype.s=function(a){a=C(a);var b=this.v.performance;b&&b.clearMarks&&(b.clearMarks(a+"_start"),b.clearMarks(a+"_end"))};B.prototype.start=function(a,b){if(!this.enabled)return null;var c=(this.u[a]||0)+1;this.u[a]=c;c=new db(a,b,c);a=a+"_"+b;this.f[a]?this.f[a].push(c):this.f[a]=[c];eb(this,C(c)+"_start");return c};B.prototype.end=function(a,b){this.enabled&&(a=a+"_"+b,(b=this.f[a])&&b.length&&(a=this.f[a].pop(),a.duration=cb()-a.value,eb(this,C(a)+"_end"),this.i.push(a)))};var fb=function(a,b,c){if(!a.enabled)return c();var d=a.start(b,3),e;try{e=c()}catch(g){var f=a.f[b+"_3"];na(f,function(a,b){C(a)===C(d)&&(this.s(d),f.splice(b,1))},a);throw g;}a.end(b,3);return e},hb=function(a,b){return fa(function(){for(var c=[],d=0;d<arguments.length;++d)c[d]=arguments[d];return fb(this,a,function(){return b.apply(void 0,c)})},gb)};var ib=function(a,b,c){if("array"==ba(b))for(var d=0;d<b.length;d++)ib(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))},jb=function(a,b,c){for(c=c||0;c<b.length;c+=2)ib(b[c],b[c+1],a);return a},kb=function(a,b){var c=2==arguments.length?jb([a],arguments[1],0):jb([a],arguments,1);if(c[1]){var d=c[0],e=d.indexOf("#");0<=e&&(c.push(d.substr(e)),c[0]=d=d.substr(0,e));e=d.indexOf("?");0>e?c[1]="?":e==d.length-1&&(c[1]=void 0)}return c.join("")};var lb=function(a){try{var b;if(b=!!a&&null!=a.location.href)a:{try{Aa(a.foo);b=!0;break a}catch(c){}b=!1}return b}catch(c){return!1}},mb=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.call(void 0,a[c],c,a)},ob=function(){var a=nb;if(!a)return"";var b=/.*[&#?]google_debug(=[^&]*)?(&.*)?$/;try{var c=b.exec(decodeURIComponent(a));if(c)return c[1]&&1<c[1].length?c[1].substring(1):"true"}catch(d){}return""};var pb=function(a,b){this.D=a;this.F=b},qb=function(a,b){this.url=a;this.w=!!b;this.depth=null};var rb=function(a,b,c,d,e){this.A=c||4E3;this.h=a||"&";this.N=b||",$";this.j=void 0!==d?d:"trn";this.X=e||null;this.o=!1;this.g={};this.T=0;this.c=[]},sb=function(a,b){var c={};c[a]=b;return[c]},D=function(a,b,c,d){a.c.push(b);a.g[b]=sb(c,d)},vb=function(a,b,c,d){b=b+"//"+c+d;var e=tb(a)-d.length-0;if(0>e)return"";a.c.sort(function(a,b){return a-b});d=null;c="";for(var f=0;f<a.c.length;f++)for(var g=a.c[f],k=a.g[g],m=0;m<k.length;m++){if(!e){d=null==d?g:d;break}var p=ub(k[m],a.h,a.N);if(p){p=c+p;if(e>=p.length){e-=p.length;b+=p;c=a.h;break}else a.o&&(c=e,p[c-1]==a.h&&--c,b+=p.substr(0,c),c=a.h,e=0);d=null==d?g:d}}f="";a.j&&null!=d&&(f=c+a.j+"="+(a.X||d));return b+f+""},tb=function(a){if(!a.j)return a.A;var b=1,c;for(c in a.g)b=c.length>b?c.length:b;return a.A-a.j.length-b-a.h.length-1},ub=function(a,b,c,d,e){var f=[];mb(a,function(a,k){(a=wb(a,b,c,d,e))&&f.push(k+"="+a)});return f.join(b)},wb=function(a,b,c,d,e){if(null==a)return"";b=b||"&";c=c||",$";"string"==typeof c&&(c=c.split(""));if(a instanceof Array){if(d=d||0,d<c.length){for(var f=[],g=0;g<a.length;g++)f.push(wb(a[g],b,c,d+1,e));return f.join(c[d])}}else if("object"==typeof a)return e=e||0,2>e?encodeURIComponent(ub(a,b,c,d,e+1)):"...";return encodeURIComponent(String(a))};var yb=function(a,b,c,d,e){if((d?a.W:Math.random())<(e||a.O))try{var f;c instanceof rb?f=c:(f=new rb,mb(c,function(a,b){var c=f,d=c.T++;a=sb(b,a);c.c.push(d);c.g[d]=a}));var g=vb(f,a.V,a.P,a.U+b+"&");g&&xb(h,g)}catch(k){}},xb=function(a,b,c){a.google_image_requests||(a.google_image_requests=[]);var d=a.document.createElement("img");if(c){var e=function(a){c(a);qa(d,"load",e);qa(d,"error",e)};u(d,"load",e);u(d,"error",e)}d.src=b;a.google_image_requests.push(d)};var zb=function(a,b,c){this.C=a;this.S=b;this.l=c;this.m=null;this.R=this.B;this.G=!1},Ab=function(a,b,c){this.message=a;this.fileName=b||"";this.lineNumber=c||-1},Cb=function(a,b,c){var d;try{d=c()}catch(g){var e=a.l;try{var f=Bb(g),e=a.R.call(a,b,f,void 0,void 0)}catch(k){a.B("pAR",k)}if(!e)throw g;}finally{}return d},Db=function(a,b,c){return function(){for(var d=[],e=0;e<arguments.length;++e)d[e]=arguments[e];return Cb(a,b,function(){return c.apply(void 0,d)})}};zb.prototype.B=function(a,b,c,d,e){try{var f=e||this.S,g=new rb;g.o=!0;D(g,1,"context",a);b instanceof Ab||(b=Bb(b));D(g,2,"msg",b.message.substring(0,512));b.fileName&&D(g,3,"file",b.fileName);0<b.lineNumber&&D(g,4,"line",b.lineNumber.toString());b={};if(this.m)try{this.m(b)}catch(ca){}if(d)try{d(b)}catch(ca){}d=[b];g.c.push(5);g.g[5]=d;var k;e=h;d=[];var m,p=null;do{b=e;lb(b)?(m=b.location.href,p=b.document&&b.document.referrer||null):(m=p,p=null);d.push(new qb(m||""));try{e=b.parent}catch(ca){e=null}}while(e&&b!=e);m=0;for(var n=d.length-1;m<=n;++m)d[m].depth=n-m;b=h;if(b.location&&b.location.ancestorOrigins&&b.location.ancestorOrigins.length==d.length-1)for(m=1;m<d.length;++m){var Ga=d[m];Ga.url||(Ga.url=b.location.ancestorOrigins[m-1]||"",Ga.w=!0)}for(var Ha=new qb(h.location.href,!1),Ia=d.length-1,n=Ia;0<=n;--n){var H=d[n];if(H.url&&!H.w){Ha=H;break}}var H=null,Fc=d.length&&d[Ia].url;0!=Ha.depth&&Fc&&(H=d[Ia]);k=new pb(Ha,H);k.F&&D(g,6,"top",k.F.url||"");D(g,7,"url",k.D.url||"");yb(this.C,f,g,this.G,c)}catch(ca){try{yb(this.C,f,{context:"ecmserr",rctx:a,msg:Eb(ca),url:k.D.url},this.G,c)}catch(Wc){}}return this.l};var Bb=function(a){return new Ab(Eb(a),a.fileName,a.lineNumber)},Eb=function(a){var b=a.toString();a.name&&-1==b.indexOf(a.name)&&(b+=": "+a.name);a.message&&-1==b.indexOf(a.message)&&(b+=": "+a.message);if(a.stack){a=a.stack;var c=b;try{-1==a.indexOf(c)&&(a=c+"\n"+a);for(var d;a!=d;)d=a,a=a.replace(/((https?:\/..*\/)[^\/:]*:\d+(?:.|\n)*)\2/,"$1");b=a.replace(/\n */g,"\n")}catch(e){b=c}}return b};var E=function(a,b){this.width=a;this.height=b};E.prototype.clone=function(){return new E(this.width,this.height)};E.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};E.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};E.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};E.prototype.scale=function(a,b){this.width*=a;this.height*="number"==typeof b?b:a;return this};!z&&!y||y&&9<=Number(Va)||z&&A("1.9.1");y&&A("9");var F=document,t=window;var Fb=null,G=function(a,b){xb(a,b,void 0)},Gb=function(){if(!F.body)return!1;if(!Fb){var a=F.createElement("iframe");a.style.display="none";a.id="anonIframe";Fb=a;F.body.appendChild(a)}return!0},Hb=!!window.google_async_iframe_id,I=Hb&&window.parent||window;var Ib,J;if(Hb&&!lb(I)){var Jb="."+F.domain;try{for(;2<Jb.split(".").length&&!lb(I);)F.domain=Jb=Jb.substr(Jb.indexOf(".")+1),I=window.parent}catch(a){}lb(I)||(I=window)}J=I;var gb=new B(1,J),Kb=function(){J.google_measure_js_timing||gb.disable()};Ib=new zb(new function(){this.V="http:"===t.location.protocol?"http:":"https:";this.P="pagead2.googlesyndication.com";this.U="/pagead/gen_204?id=";this.O=.01;this.W=Math.random()},"jserror",!0);"complete"==J.document.readyState?Kb():u(J,"load",Kb);var K=function(a,b){a=a.toString();return Db(Ib,a,hb(a,b))};y&&A("9");!Fa||A("528");z&&A("1.9b")||y&&A("8")||Da&&A("9.5")||Fa&&A("528");z&&!A("8")||y&&A("9");var Lb=0,L={},Nb=function(a){var b=L.imageLoadingEnabled;if(null!=b)a(b);else{var c=!1;Mb(function(b,e){delete L[e];c||(c=!0,null!=L.imageLoadingEnabled||(L.imageLoadingEnabled=b),a(b))})}},Mb=function(a){var b=new Image,c,d=""+Lb++;L[d]=b;b.onload=function(){clearTimeout(c);a(!0,d)};c=setTimeout(function(){a(!1,d)},300);b.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},Ob=function(a){if(a){var b=document.createElement("OBJECT");b.data=a;b.width="1";b.height="1";b.style.visibility="hidden";var c=""+Lb++;L[c]=b;b.onload=b.onerror=function(){delete L[c]};document.body.appendChild(b)}},Pb=function(a){if(a){var b=new Image,c=""+Lb++;L[c]=b;b.onload=b.onerror=function(){delete L[c]};b.src=a}},Qb=function(a){a&&Nb(function(b){b?Pb(a):Ob(a)})};var Rb={M:"ud=1",L:"ts=0",da:"sc=1",I:"gz=1",J:"op=1",ea:"efp=1",ca:"rda=1",aa:"dcl=1",Y:"cvh=1",H:"co=1",ba:"mlc=1",$:"rafv=1",Z:"rafx=1",K:"opp=1"};if(F&&F.URL){var nb=F.URL,Sb=!(nb&&0<ob().length);Ib.l=Sb}var M=function(a,b,c,d){c=K(d,c);u(a,b,c,{capture:void 0})},Tb=function(a,b,c){if(!(0>=b)){var d=0,e=function(){a();d++;d<b&&t.setTimeout(K(c,e),100)};e()}};var Ub=function(a,b){this.b=a||0;this.a=b||""},Vb=function(a,b){a.b&&(b[4]=a.b);a.a&&(b[12]=a.a)};Ub.prototype.match=function(a){return(this.b||this.a)&&(a.b||a.a)?this.a||a.a?this.a==a.a:this.b||a.b?this.b==a.b:!1:!1};Ub.prototype.toString=function(){var a=""+this.b;this.a&&(a+="-"+this.a);return a};var Wb=function(){var a=N,b=[];a.b&&b.push("adk="+a.b);a.a&&b.push("exk="+a.a);return b},Xb=function(a){var b=[];ra(a,function(a,d){d=encodeURIComponent(d);l(a)&&(a=encodeURIComponent(a));b.push(d+"="+a)});b.push("24="+(new Date).getTime());return b.join("\n")},O=0,Yb=0,Zb=function(a,b){var c=0,d=t;try{if(d&&d.Goog_AdSense_getAdAdapterInstance)return d}catch(f){}var e=d.location&&d.location.ancestorOrigins;if(!(void 0===e||e&&e.length))return null;for(;d&&5>c;){try{if(d.google_osd_static_frame)return d}catch(f){}try{if(d.aswift_0&&(!a||d.aswift_0.google_osd_static_frame))return d.aswift_0}catch(f){}c++;d=b?0<d.location.ancestorOrigins.length&&d.location.origin==d.location.ancestorOrigins[0]?d.parent:null:d!=d.parent?d.parent:null}return null},$b=function(a,b,c,d,e,f,g){g=g||aa;if(10<Yb)t.clearInterval(O),g();else if(++Yb,t.postMessage&&(b.b||b.a)){if(f=Zb(!0,f)){g={};Vb(b,g);g[0]="goog_request_monitoring";g[6]=a;g[16]=c;d&&d.length&&(g[17]=d.join(","));e&&(g[19]=e);try{var k=Xb(g);f.postMessage(k,"*")}catch(m){}}}else t.clearInterval(O),g()},ac=function(a){var b=Zb(!1),c=!b;!b&&t&&(b=t.parent);if(b&&b.postMessage)try{b.postMessage(a,"*"),c&&t.postMessage(a,"*")}catch(d){}};var P=!1,bc=function(a){if(a=a.match(/[\d]+/g))a.length=3};(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&(P=!0,a.description)){bc(a.description);return}if(navigator.plugins["Shockwave Flash 2.0"]){P=!0;return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes["application/x-shockwave-flash"],P=!(!a||!a.enabledPlugin))){bc(a.enabledPlugin.description);return}try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");P=!0;bc(b.GetVariable("$version"));return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");P=!0;return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),P=!0,bc(b.GetVariable("$version"))}catch(c){}})();(function(){var a;return Ka?(a=/Windows NT ([0-9.]+)/,(a=a.exec(v))?a[1]:"0"):Ja?(a=/10[_.][0-9_.]+/,(a=a.exec(v))?a[0].replace(/_/g,"."):"10"):La?(a=/Android\s+([^\);]+)(\)|;)/,(a=a.exec(v))?a[1]:""):Ma||Na||Oa?(a=/(?:iPhone|CPU)\s+OS\s+(\S+)/,(a=a.exec(v))?a[1].replace(/_/g,"."):""):""})();var Q=function(a){return(a=a.exec(v))?a[1]:""};(function(){if(Xa)return Q(/Firefox\/([0-9.]+)/);if(y||Ea||Da)return Ua;if(ab)return Q(/Chrome\/([0-9.]+)/);if(bb&&!(za()||w("iPad")||w("iPod")))return Q(/Version\/([0-9.]+)/);if(Ya||Za){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(v);if(a)return a[1]+"."+a[2]}else if($a)return(a=Q(/Android\s+([0-9.]+)/))?a:Q(/Version\/([0-9.]+)/);return""})();var cc=function(){var a=t;return null!==a&&a.top!=a},ec=function(){var a=cc(),b=a&&0<="//tpc.googlesyndication.com".indexOf(t.location.host);if(a&&t.name&&0==t.name.indexOf("google_ads_iframe")||b){var c;a=t||t;try{var d;if(a.document&&!a.document.body)d=new E(-1,-1);else{var e=(a||window).document,f="CSS1Compat"==e.compatMode?e.documentElement:e.body;d=(new E(f.clientWidth,f.clientHeight)).round()}c=d}catch(g){c=new E(-12245933,-12245933)}return dc(c)}c=(t.document||document).getElementsByTagName("SCRIPT");return 0<c.length&&(c=c[c.length-1],c.parentElement&&c.parentElement.id&&0<c.parentElement.id.indexOf("_ad_container"))?dc(void 0,c.parentElement):null},dc=function(a,b){var c=fc("IMG",a,b);return c?c:(c=fc("IFRAME",a,b))?c:(a=fc("OBJECT",a,b))?a:null},fc=function(a,b,c){var d=document;c=c||d;d=a&&"*"!=a?String(a).toUpperCase():"";c=c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*");for(d=0;d<c.length;d++){var e=c[d];if("OBJECT"==a)a:{var f=e.getAttribute("height");if(null!=f&&0<f&&0==e.clientHeight)for(var f=e.children,g=0;g<f.length;g++){var k=f[g];if("OBJECT"==k.nodeName||"EMBED"==k.nodeName){e=k;break a}}}f=e.clientHeight;g=e.clientWidth;if(k=b)k=new E(g,f),k=Math.abs(b.width-k.width)<.1*b.width&&Math.abs(b.height-k.height)<.1*b.height;if(k||!b&&10<f&&10<g)return e}return null};var R=0,S="",gc=[],T=!1,U=!1,V=!1,hc=!0,ic=!1,jc=!1,kc=!1,lc=!1,mc=!1,nc=!1,oc=0,pc=0,W=0,qc=[],N=null,rc="",sc=[],tc=null,uc=[],vc=!1,wc="",xc="",yc=(new Date).getTime(),zc=!1,Ac="",Bc=!1,Cc=["1","0","3"],X=0,Y=0,Dc=0,Ec="",Gc=!1,Hc=!1,Jc=function(a,b,c){T&&(hc||3!=(c||3)||kc)&&Ic(a,b,!0);if(V||U&&jc)Ic(a,b),U=V=!1},Kc=function(){var a=tc;return a?2!=a():!0},Ic=function(a,b,c){if((b=b||rc)&&!vc&&(2==Y||c)&&Kc()){for(var d=0;d<gc.length;++d){var e=Lc(gc[d],b,c),f=a;ic?Qb(e):G(f,e)}mc=!0;c?T=!1:vc=!0}},Mc=function(a,b){var c=[];a&&c.push("avi="+a);b&&c.push("cid="+b);return c.length?"//pagead2.googlesyndication.com/activeview?"+c.join("&"):"//pagead2.googlesyndication.com/activeview"},Lc=function(a,b,c){c=c?"osdim":V?"osd2":"osdtos";a=[a,-1<a.indexOf("?")?"&id=":"?id=",c];"osd2"==c&&U&&jc&&a.push("&ts=1");a.push("&ti=1");a.push("&",b);a.push("&uc="+Dc);zc?a.push("&tgt="+Ac):a.push("&tgt=nf");a.push("&cl="+(Bc?1:0));nc&&(a.push("&lop=1"),b=q()-oc,a.push("&tslp="+b));b=a.join("");for(a=0;a<sc.length;a++){try{var d=sc[a]()}catch(e){}c="max_length";2<=d.length&&(3==d.length&&(c=d[2]),b=ha(b,encodeURIComponent(d[0]),encodeURIComponent(d[1]),c))}2E3<b.length&&(b=b.substring(0,2E3));return b},Z=function(a){if(wc){try{var b=ha(wc,"vi",a);Gb()&&G(Fb.contentWindow,b)}catch(c){}0<=ma(Cc,a)&&(wc="")}},Nc=function(){Z("-1")},Pc=function(a){if(a&&a.data&&l(a.data)){var b;var c=a.data;if(l(c)){b={};for(var c=c.split("\n"),d=0;d<c.length;d++){var e=c[d].indexOf("=");if(!(0>=e)){var f=Number(c[d].substr(0,e)),e=c[d].substr(e+1);switch(f){case 5:case 8:case 11:case 15:case 16:case 18:e="true"==e;break;case 4:case 7:case 6:case 14:case 20:case 21:case 22:case 23:case 24:case 25:e=Number(e);break;case 3:case 19:if("function"==ba(decodeURIComponent))try{e=decodeURIComponent(e)}catch(k){throw Error("Error: URI malformed: "+e);}break;case 17:e=oa(decodeURIComponent(e).split(","),Number)}b[f]=e}}b=b[0]?b:null}else b=null;if(b&&(c=new Ub(b[4],b[12]),N&&N.match(c))){for(c=0;c<uc.length;c++)uc[c](b);b&&(c=100*b[25],"number"==typeof c&&!isNaN(c)&&(window.document["4CGeArbVQ"]=c|0));void 0!=b[18]&&(kc=b[18],kc||2!=W||(W=3,Oc()));Hc&&void 0!=b[7]&&0<b[7]&&(c=t,d="//pagead2.googlesyndication.com/pagead/gen_204?id=ac_opp&vsblt="+b[7],S&&(d+="&avi="+S),ic?Qb(d):G(c,d),Hc=!1);c=b[0];if("goog_acknowledge_monitoring"==c)t.clearInterval(O),X=2;else if("goog_get_mode"==c){X=1;d={};N&&Vb(N,d);d[0]="goog_provide_mode";d[6]=Y;d[19]=Ec;d[16]=U;try{var g=Xb(d);a.source.postMessage(g,a.origin)}catch(k){}t.clearInterval(O);X=2}else"goog_update_data"==c?(rc=b[3],++Dc):"goog_image_request"==c&&(Jc(t,b[3]),b[5]||b[11]||Z("0"));if("goog_update_data"==c||"goog_image_request"==c)(1==Y||2==Y||T)&&b[5]&&(a=1==b[15]&&"goog_update_data"==c,jc=!0,Z("1"),xc&&Kc()&&(g=xc,Gb()&&G(Fb.contentWindow,g),xc=""),T&&!a&&(Ic(t,void 0,!0),lc=!0,pc=q()),3==W&&(W=4,Oc()),T||1!=Y||(vc=!0)),(1==Y||2==Y||T)&&b[11]&&(U=!1,Z("3"),T&&(Ic(t,void 0,!0),1==W&&kc&&(W=2)))}}},Oc=function(){var a=t,b=W;0!=b&&1!=b&&Qc(a,"osdim","zas="+b)},Qc=function(a,b,c){var d=[];S&&d.push("avi="+S);d.push("id="+b);d.push("ovr_value="+R);nc&&d.push("lop=1");N&&(d=d.concat(Wb()));d.push("tt="+((new Date).getTime()-yc));d.push(c);a.document&&a.document.referrer&&d.push("ref="+encodeURIComponent(a.document.referrer));try{G(a,"//pagead2.googlesyndication.com/pagead/gen_204?"+d.join("&"))}catch(e){}},Rc=function(){Jc(t);Z("0");2>X&&!U&&2==Y&&Qc(t,"osd2","hs="+X)},Sc=function(){var a={};Vb(N,a);a[0]="goog_dom_content_loaded";var b=Xb(a);try{Tb(function(){ac(b)},10,114)}catch(c){}},Tc=function(){var a={};Vb(N,a);a[0]="goog_creative_loaded";var b=Xb(a);Tb(function(){ac(b)},10,115);Bc=!0},Uc=function(a){if(l(a)){a=a.split("&");for(var b=a.length-1;0<=b;b--){var c=a[b],d=Rb;c==d.M?(hc=!1,a.splice(b,1)):c==d.I?(W=1,a.splice(b,1)):c==d.L?(U=!1,a.splice(b,1)):c==d.J?(ic=!0,a.splice(b,1)):c==d.H?(Gc=!0,a.splice(b,1)):c==d.K&&(Hc=!0,a.splice(b,1))}Ec=a.join("&")}},Vc=function(){if(!zc){var a=ec();a&&(zc=!0,Ac=a.tagName,a.complete||a.naturalWidth?Tc():M(a,"load",Tc,116))}};r("osdlfm",K(123,function(a,b,c,d,e,f,g,k,m,p){R=a;wc=b;xc=d;T=f;g&&Uc(g);U=f;1==k?qc.push(947190538):2==k?qc.push(947190541):3==k&&qc.push(947190542);N=new Ub(e,ia());M(t,"load",Nc,117);M(t,"message",Pc,118);S=c||"";gc=[p||Mc(c,m)];M(t,"unload",Rc,119);var n=t.document;!n.readyState||"complete"!=n.readyState&&"loaded"!=n.readyState?!wa()||0<=la(ya(),11)?M(n,"DOMContentLoaded",Sc,121):M(n,"readystatechange",function(){"complete"!=n.readyState&&"loaded"!=n.readyState||Sc()},120):Sc();-1==R?Y=f?3:1:-2==R?Y=3:0<R&&(Y=2,V=!0);U&&!V&&-1==R&&(Y=2);N&&(N.b||N.a)&&(X=1,O=t.setInterval(K(197,ga($b,Y,N,U,qc,Ec,Gc,void 0)),500));Tb(Vc,5,122)}));r("osdlac",K(124,function(a){sc.push(a)}));r("osdlamrc",K(125,function(a){uc.push(a)}));r("osdsir",K(126,Jc));r("osdacrc",K(127,function(a){tc=a}));r("osdpcls",K(128,function(a){if(nc)return!0;if(!a||!cc()||vc||mc&&!lc)return!1;nc=!0;a=/^(http[s]?:)?\/\//.test(a)?a:Mc(a);if(lc){var b=Lc(a,rc,!0),c=q()-pc,b=kb(b,"tsvp",c),c=t;ic?Qb(b):G(c,b)}gc.push(a);oc=q();return!0}));}).call(this);</script><script type="text/javascript">osdlfm(-1,'','BcBgdcpWBWLyyG9SpYLvbt-gEAAAAABABOAHIAQnAAgLgAgDgBAGgBhY','',1030248120,true,'ud\x3d1\x26la\x3d0\x26',3,'CAASFeRoZg4rQ5G4oLqHAboapCwC0mOT3g','//pagead2.googlesyndication.com/activeview?avi\x3dBcBgdcpWBWLyyG9SpYLvbt-gEAAAAABABOAHIAQnAAgLgAgDgBAGgBhY\x26cid\x3dCAASFeRoZg4rQ5G4oLqHAboapCwC0mOT3g');</script><script>if (window.top && window.top.postMessage) {window.top.postMessage('{"googMsgType":"adpnt"}','*');}</script>
</div>

</div>
</div>
</div>

 
</center>
 </div>
 
 

 
</div>
</div>
 
<aside>
<div class="sidebar">
<div class="section loginButton">
<div class="secondaryContent">
<label for="LoginControl" id="SignupButton"><a href="https://www.howtoforge.com/community/login/" class="inner">Sign up now!</a></label>
</div>
</div>
<div class="widget WidgetFramework_WidgetRenderer_ShareThisPage" id="widget-2">
 
<div class="widget WidgetFramework_WidgetRenderer_ShareThisPage" id="widget-5">
<div class="section infoBlock sharePage">
<div class="secondaryContent socialMediaIcon">
<a href="https://twitter.com/howtoforgecom" target="_blank"><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/twitter.png"></a>
<a href="https://www.facebook.com/howtoforge" target="_blank"><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/facebook.png"></a>
<a href="https://plus.google.com/+howtoforge/posts" target="_blank"><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/googleplus.png"></a>
<a href="https://www.howtoforge.com/feed" target="_blank"><img src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/rss.png"></a>
</div>
</div>
</div>
<div class="section widget-group-no-name widget-container">
<div class="secondaryContent widget WidgetFramework_WidgetRenderer_Stats" id="widget-3">
<h3>Tutorial Info</h3>
<div class="pairsJustified">
<dl class="discussionCount">
<dt>Author:</dt>
<dd>gibbsj</dd>
</dl>
<dl class="discussionCount">
<dt>Tags:</dt>
<dd><a href="https://www.howtoforge.com/tutorials/dns/" rel="tag">dns</a>, <a href="https://www.howtoforge.com/tutorials/ubuntu/" rel="tag">ubuntu</a>, <a href="https://www.howtoforge.com/tutorials/bind/" rel="tag">bind</a></dd>
</dl>
</div>
</div>
</div>
 
<div class="widget WidgetFramework_WidgetRenderer_ShareThisPage" id="widget-5">
<div class="section infoBlock sharePage">
<div class="secondaryContent">
<h3>Share This Page</h3>
<div class="tweet shareControl">
<iframe data-url="http://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/tweet_button_002.html" title="Twitter Tweet Button" style="position: static; visibility: visible; width: 60px; height: 22px;" class="twitter-share-button twitter-share-button-rendered twitter-tweet-button" allowtransparency="true" id="twitter-widget-2" frameborder="0" scrolling="no"></iframe>
</div>
<div class="facebookLike shareControl">
<fb:like fb-iframe-plugin-query="action=recommend&amp;app_id=&amp;color_scheme=light&amp;container_width=131&amp;font=trebuchet%20ms&amp;href=http%3A%2F%2Fwww.howtoforge.com%2Fnat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server&amp;layout=button_count&amp;locale=en_US&amp;sdk=joey" fb-xfbml-state="rendered" class=" fb_iframe_widget" href="http://www.howtoforge.com/nat-gateway-iptables-port-forwarding-dns-and-dhcp-setup-ubuntu-8.10-server" layout="button_count" action="recommend" font="trebuchet ms" colorscheme="light"><span style="vertical-align: bottom; width: 131px; height: 20px;"><iframe class="" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/like_002.html" style="border: medium none; visibility: visible; width: 131px; height: 20px;" title="fb:like Facebook Social Plugin" allowfullscreen="true" allowtransparency="true" name="f135ed62c74ba4e" frameborder="0" height="1000px" scrolling="no" width="1000px"></iframe></span></fb:like>
</div>
<div class="plusone shareControl">
<div id="___plusone_1" style="text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px;"><iframe title="+1" data-gapiattached="true" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/fastbutton_002.html" name="I3_1485183073946" id="I3_1485183073946" vspace="0" tabindex="0" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" marginwidth="0" marginheight="0" hspace="0" ng-non-bindable="" frameborder="0" scrolling="no" width="100%"></iframe></div>
</div>
</div>
</div>
</div>
 
 
 
<script type="text/javascript">
    google_ad_client = "ca-pub-3043223216276099";
    google_ad_slot = "6709042890";
    google_ad_width = 300;
    google_ad_height = 600;
</script>
 
<script type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/show_ads.js">
</script><ins id="aswift_1_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" frameborder="0" height="600" scrolling="no" width="300"></iframe></ins></ins>
 
 
</div>
</div>
</aside>
</div>
</div>
</div>
<footer>
<div class="footer">
<div class="pageWidth">
<div class="pageContent">
<div class="skin_branding"><a href="http://www.xenfocus.com/" rel="nofollow">Xenforo skin</a><span> by <a href="http://www.xenfocus.com/" rel="nofollow">Xenfocus</a></span></div>
<ul class="footerLinks">
<li><a href="https://www.howtoforge.com/community/misc/contact">Contact</a></li>
<li><a href="https://www.howtoforge.com/community/help/">Help</a></li>
<li><a href="https://www.howtoforge.com/imprint/">Imprint</a></li>
<li><a href="https://www.howtoforge.com/" class="homeLink">Tutorials</a></li>
<li><a href="#navigation" class="topLink">Top</a></li>
<li><a href="https://www.howtoforge.com/feed" rel="alternate" class="globalFeed" target="_blank" title="RSS-Feed for Howtoforge">RSS-Feed</a></li>
</ul>
<span class="helper"></span>
</div>
</div>
</div>
<div class="footerLegal">
<div class="pageWidth">
<div class="pageContent">
<ul id="legal">
<li><a href="https://www.howtoforge.com/community/help/terms">Terms</a></li>
</ul>
<div id="copyright"><a href="https://www.howtoforge.com/" class="concealed">Howtoforge <span>Â© projektfarm GmbH.</span></a></div>
<span class="helper"></span>
</div>
</div>
</div>
</footer>
<div style="height:100px;"></div>
<script>

jQuery.extend(true, XenForo,
{
	visitor: { user_id: 0 },
	serverTimeInfo:
	{
		now: 1409831907,
		today: 1409781600,
		todayDow: 4
	},
	_lightBoxUniversal: "0",
	_enableOverlays: "1",
	_animationSpeedMultiplier: "1",
	_overlayConfig:
	{
		top: "10%",
		speed: 200,
		closeSpeed: 100,
		mask:
		{
			color: "rgb(0, 0, 0)",
			opacity: "0.6",
			loadSpeed: 200,
			closeSpeed: 100
		}
	},
	_ignoredUsers: [],
	_loadedScripts: {"node_list":true,"node_category":true,"node_forum":true,"sidebar_share_page":true,"wf_default":true,"bbm_buttons":true,"login_bar":true,"twitter":true},
	_cookieConfig: { path: "/", domain: "", prefix: "xf_"},
	_csrfToken: "",
	_csrfRefreshUrl: "/community/login/csrf-token-refresh",
	_jsVersion: "303ae0ca"
});
jQuery.extend(XenForo.phrases,
{
	cancel: "Cancel",

	a_moment_ago:    "A moment ago",
	one_minute_ago:  "1 minute ago",
	x_minutes_ago:   "%minutes% minutes ago",
	today_at_x:      "Today at %time%",
	yesterday_at_x:  "Yesterday at %time%",
	day_x_at_time_y: "%day% at %time%",

	day0: "Sunday",
	day1: "Monday",
	day2: "Tuesday",
	day3: "Wednesday",
	day4: "Thursday",
	day5: "Friday",
	day6: "Saturday",

	_months: "January,February,March,April,May,June,July,August,September,October,November,December",
	_daysShort: "Sun,Mon,Tue,Wed,Thu,Fri,Sat",

	following_error_occurred: "The following error occurred",
	server_did_not_respond_in_time_try_again: "The server did not respond in time. Please try again.",
	logging_in: "Logging in",
	click_image_show_full_size_version: "Click this image to show the full-size version.",
	show_hidden_content_by_x: "Show hidden content by {names}"
});

// Facebook Javascript SDK
XenForo.Facebook.appId = "";
XenForo.Facebook.forceInit = true;

/*
document.addEventListener('DOMContentLoaded', function(event) {
  cookieChoices.showCookieConsentBar('Cookies erleichtern die Bereitstellung unserer Dienste. Mit der Nutzung unserer Dienste erklÃ¤ren Sie sich damit einverstanden, dass wir Cookies verwenden.',
  'OK');
});
*/

$(document).ready(function() {
	$("a.fancybox").fancybox();
});

</script>
<script async="" type="text/javascript" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/fancybar.js" id="_fancybar_js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2155872-1', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

</script>

<div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div><div class=" fb_reset" id="fb-root"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/YGoENyUbMBG.html" style="border: medium none;" tabindex="-1" title="Facebook Cross Domain Communication Frame" aria-hidden="true" id="fb_xdm_frame_https" allowfullscreen="true" allowtransparency="true" name="fb_xdm_frame_https" frameborder="0" scrolling="no"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div><iframe title="Twitter analytics iframe" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: medium none;" allowfullscreen="true" allowtransparency="true" id="rufous-sandbox" frameborder="0" scrolling="no"></iframe><iframe aria-hidden="true" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;" src="NAT%20Gateway,%20Iptables,%20Port%20Forwarding,%20DNS%20And%20DHCP%20Setup%20-%20Ubuntu%208.10%20Server_files/postmessageRelay.html" id="oauth2relay2117167107" name="oauth2relay2117167107"></iframe><iframe style="display: none; width: 0px; height: 0px;" name="google_osd_static_frame" id="google_osd_static_frame_7335628432459"></iframe></body><iframe src="" style="display: none;"></iframe><iframe src="" style="display: none;"></iframe></html>
